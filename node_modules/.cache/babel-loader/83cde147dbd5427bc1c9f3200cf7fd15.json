{"ast":null,"code":"import _asyncToGenerator from\"/Users/aider/WebstormProjects/Marketslick/Marketslick/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/aider/WebstormProjects/Marketslick/Marketslick/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/aider/WebstormProjects/Marketslick/Marketslick/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/aider/WebstormProjects/Marketslick/Marketslick/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/aider/WebstormProjects/Marketslick/Marketslick/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/aider/WebstormProjects/Marketslick/Marketslick/node_modules/@babel/runtime/helpers/esm/createSuper.js\";var _this=this,_dec,_class;import _regeneratorRuntime from\"/Users/aider/WebstormProjects/Marketslick/Marketslick/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import image1 from'../images/realtor-010.jpeg';import image2 from'../images/realtor-010.png';import home_icon from'../images/realtor-icon-4-dark.png';import logo from'../images/sm3.png';import firebase from\"firebase/compat\";import{rootStore}from'../stores/Store';import builder from'../images/builder.png';import mm1 from'../images/mm1.png';import property from'../images/property.png';import{SwatchesPicker}from\"react-color\";import{mainButtonLink,mainButtonTitle,contactButtonTitle,businessBlurb,contactEmail,contactPhone,contactTitle,mailChimpSource,secondary,secondaryContent,secondaryContentTitle,supportingBlurb,supportingHeading,titleBlurb,titleContent,autoCompletePlaces,RouteItems,contactBlurb,secondaryHeader,secondaryPhoto1,secondaryHeading1,secondaryContent1,businessBlurbShort,contactCTA,p3ContentPhoto,p3Heading1,p3Content1}from\"../content\";import{FileImporter}from\"./FileImporter\";import GoogleMyBusinessForm from\"./GoogleMyBusinessForm\";import cookie from\"js-cookie\";import p2 from\"../images/p2.png\";import{useHistory}from\"react-router\";import{inject,observer}from\"mobx-react\";import{toJS}from\"mobx\";import SimpleMap from\"./SimpleMap\";import{Swatches}from\"react-color/lib/components/swatches/Swatches\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var FacebookButton=function FacebookButton(props){var history=useHistory();function handleClick(){props.signUpHandler('facebook');// history.push('/sso/google');\n}return/*#__PURE__*/_jsxs(\"div\",{style:{width:320,padding:12,cursor:'not-allowed'},className:\"sign-up-button google-sign-up\",onClick:handleClick,children:[/*#__PURE__*/_jsx(\"img\",{className:\"social-sign-up-icon\",src:\"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg\",alt:\"Sign up with Facebook\"}),/*#__PURE__*/_jsx(\"span\",{className:\"social-sign-up-text\",children:\"Continue With Facebook\"})]});};export var GoogleButton=function GoogleButton(props){var history=useHistory();function handleClick(){props.signUpHandler('google');// history.push('/sso/google');\n}return/*#__PURE__*/_jsxs(\"div\",{style:{width:300,padding:12,cursor:'pointer'},className:\"sign-up-button google-sign-up\",onClick:handleClick,children:[/*#__PURE__*/_jsx(\"img\",{className:\"social-sign-up-icon\",src:\"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg\",alt:\"Sign up with Google\"}),/*#__PURE__*/_jsx(\"span\",{className:\"social-sign-up-text\",children:\"Continue With Google\"})]});};function signUpUsingSocial(){return rootStore.pageStore.signUpUsingGoogle();}function signUpUsingFacebook(){return rootStore.pageStore.signUpUsingFacebook();}export var NavBar=function NavBar(props){return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-xl bg-dark-blue navbar-dark myNav navTextColor\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",children:/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){window.location.href='/';},src:logo,alt:\"\",width:\"100\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler rounded-4 shadow-sm\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarSupportedContent\",\"aria-controls\":\"navbarSupportedContent\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse px-3\",id:\"navbarSupportedContent\",children:props.userEmail?/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ms-auto me-0 mb-2 mb-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{style:{cursor:'pointer'},onClick:function onClick(){if(props.userEmail){return props.resetFrontPage();}{return null;}},className:\"nav-link whiteTextNav\",\"aria-current\":\"page\",children:\"Reset\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",style:{cursor:'pointer'},onClick:function onClick(){window.location.href='/';},children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link whiteTextNav\",\"aria-current\":\"page\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",style:{cursor:'pointer'},onClick:function onClick(){rootStore.pageStore.signOut();},children:/*#__PURE__*/_jsxs(\"a\",{className:\"nav-link whiteTextNav\",\"aria-current\":\"page\",children:[\" \",props.userEmail?/*#__PURE__*/_jsx(_Fragment,{children:\"Sign Out\"}):/*#__PURE__*/_jsx(GoogleButton,{signUpHandler:signUpUsingSocial.bind(_this)})]})})]}):null})]})});};var TemplateCreator=(_dec=inject('rootStore'),_dec(_class=observer(_class=/*#__PURE__*/function(_React$Component){_inherits(TemplateCreator,_React$Component);var _super=_createSuper(TemplateCreator);function TemplateCreator(props){var _this2;_classCallCheck(this,TemplateCreator);_this2=_super.call(this,props);_this2.handleContentFormChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this2.setState(function(prevState){var content=prevState.content;content[name]=value;return{content:content};});};_this2.handleAdditionalFormChange=function(event,index){var _event$target2=event.target,name=_event$target2.name,value=_event$target2.value;var routeItems=_this2.state.routeItems;routeItems[index][\"\".concat(name)]=value;console.log(_this2.state.routeItems[index],_this2.state.routeItems[index][\"\".concat(name)],value);_this2.setState({routeItems:routeItems});};_this2.uploadBrandImage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e,fileInput,index){var file,files,formData,storageRef,practiceImageRef,uploadTask,imageUrlArray;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{if(!fileInput){_this2.setState({filename:e.target.files[0].name,uploading:true});files=Array.from(e.target.files);file=files[0];}else{_this2.setState({filename:fileInput.name,uploading:true});file=fileInput;}formData=new FormData();storageRef=firebase.storage().ref();// @ts-ignore\npracticeImageRef=storageRef.child(\"images/\".concat(_this2.state.code,\"/\").concat(index));// @ts-ignore\nuploadTask=practiceImageRef.put(file);// @ts-ignore\nuploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,// or 'state_changed'\nfunction(snapshot){// Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\nvar progress=snapshot.bytesTransferred/snapshot.totalBytes*100;},function(error){console.log('ERROR writefile',error);var imageUrlArray=_this2.state.imageURLArray;imageUrlArray[index]=null;_this2.setState({imageURLArray:imageUrlArray,filename:null,uploading:false});},function(){// Upload completed successfully, now we can get the download URL\n// @ts-ignore\nuploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL){var imageUrlArray=_this2.state.imageURLArray;imageUrlArray[index]=downloadURL;_this2.setState({uploading:false,imageURLArray:imageUrlArray});// @ts-ignore\n});});}catch(e){console.log('ERROR catchblock',e);imageUrlArray=_this2.state.imageURLArray;imageUrlArray[index]=null;_this2.setState({imageURLArray:imageUrlArray,filename:null,uploading:false});}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2,_x3){return _ref.apply(this,arguments);};}();_this2.uploadLogoImage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e,fileInput,index){var file,files,formData,storageRef,practiceImageRef,uploadTask,_logo;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:try{if(!fileInput){_this2.setState({filename:e.target.files[0].name,uploading:true});files=Array.from(e.target.files);file=files[0];}else{_this2.setState({filename:fileInput.name,uploading:true});file=fileInput;}formData=new FormData();storageRef=firebase.storage().ref();// @ts-ignore\npracticeImageRef=storageRef.child(\"images/\".concat(_this2.state.code,\"/logo\"));// @ts-ignore\nuploadTask=practiceImageRef.put(file);// @ts-ignore\nuploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,// or 'state_changed'\nfunction(snapshot){// Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\nvar progress=snapshot.bytesTransferred/snapshot.totalBytes*100;},function(error){console.log('ERROR writefile',error);var logo=_this2.state.logo;logo=null;_this2.setState({logo:logo,filename:null,uploading:false});},function(){// Upload completed successfully, now we can get the download URL\n// @ts-ignore\nuploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL){var logo=_this2.state.logo;logo=downloadURL;_this2.setState({uploading:false,logo:logo});// @ts-ignore\n});});}catch(e){console.log('ERROR catchblock',e);_logo=_this2.state.logo;_logo=null;_this2.setState({logo:_logo,filename:null,uploading:false});}case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x4,_x5,_x6){return _ref2.apply(this,arguments);};}();_this2.uploadBrandImageAdditional=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e,fileInput,index,routeItemsIndex){var file,files,formData,storageRef,practiceImageRef,uploadTask,imageUrlArray,routeItems;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log('TEST',index,routeItemsIndex);try{if(!fileInput){_this2.setState({filename:e.target.files[0].name,uploading:true});files=Array.from(e.target.files);file=files[0];}else{_this2.setState({filename:fileInput.name,uploading:true});file=fileInput;}formData=new FormData();storageRef=firebase.storage().ref();// @ts-ignore\npracticeImageRef=storageRef.child(\"images/\".concat(_this2.state.code,\"/\").concat(routeItemsIndex,\"-\").concat(index));// @ts-ignore\nuploadTask=practiceImageRef.put(file);// @ts-ignore\nuploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,// or 'state_changed'\nfunction(snapshot){// Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\nvar progress=snapshot.bytesTransferred/snapshot.totalBytes*100;},function(error){console.log('ERROR writefile',error);var imageUrlArray=_this2.state.routeItems[routeItemsIndex].imageURLArray;imageUrlArray[index]=null;var routeItems=_this2.state.routeItems;routeItems[routeItemsIndex].imageURLArray=imageUrlArray;_this2.setState({uploading:false,routeItems:routeItems});},function(){// Upload completed successfully, now we can get the download URL\n// @ts-ignore\nuploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL){var imageUrlArray=_this2.state.routeItems[routeItemsIndex].imageURLArray;imageUrlArray[index]=downloadURL;var routeItems=_this2.state.routeItems;routeItems[routeItemsIndex].imageURLArray=imageUrlArray;_this2.setState({uploading:false,routeItems:routeItems});// @ts-ignore\n});});}catch(e){console.log('ERROR catchblock',e);imageUrlArray=_this2.state.routeItems[routeItemsIndex].imageURLArray;imageUrlArray[index]=null;routeItems=_this2.state.routeItems;routeItems[routeItemsIndex].imageURLArray=imageUrlArray;_this2.setState({uploading:false,routeItems:routeItems});}case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x7,_x8,_x9,_x10){return _ref3.apply(this,arguments);};}();_this2.BGSelector=function(){return/*#__PURE__*/_jsx(\"div\",{style:{margin:40,marginBottom:0,borderRadius:12,width:400,backgroundColor:'#fff',display:'flex',justifyContent:'center',flexWrap:'wrap',alignContent:'center'},children:/*#__PURE__*/_jsx(SwatchesPicker,{color:_this2.state.backgroundType,onChangeComplete:_this2.handleChangeComplete.bind(_assertThisInitialized(_this2))})});};_this2.ClassSelector=function(){return/*#__PURE__*/_jsx(\"div\",{style:{margin:40,marginBottom:0,borderRadius:12,width:400,backgroundColor:'#fff',display:'flex',justifyContent:'center',flexWrap:'wrap',alignContent:'center'},children:/*#__PURE__*/_jsx(SwatchesPicker,{color:_this2.state.class,onChangeComplete:_this2.handleChangeCompleteClass.bind(_assertThisInitialized(_this2))})});};_this2.FontSelector=function(){return/*#__PURE__*/_jsx(\"div\",{style:{margin:40,marginBottom:0,borderRadius:12,width:400,backgroundColor:'#fff',display:'flex',justifyContent:'center',flexWrap:'wrap',alignContent:'center'},children:/*#__PURE__*/_jsx(SwatchesPicker,{color:_this2.state.font,onChangeComplete:_this2.handleChangeCompleteFont.bind(_assertThisInitialized(_this2))})});};_this2.fontSelector=function(){return/*#__PURE__*/_jsx(\"div\",{style:{margin:40,marginBottom:0,borderRadius:12,width:400,backgroundColor:'#fff',display:'flex',justifyContent:'center',flexWrap:'wrap',alignContent:'center'},children:/*#__PURE__*/_jsx(SwatchesPicker,{color:_this2.state.font,onChangeComplete:_this2.handleChangeCompleteFont.bind(_assertThisInitialized(_this2))})});};_this2.contactRef=/*#__PURE__*/React.createRef();_this2.state={linkArray:[],loadState:null,colorSelectorModal:true,editModal:null,logo:null,routeItemsDefault:RouteItems,routeItems:[],places:[],plainCode:0,imageURLArray:[],bgSelectorActive:false,classSelectorActive:false,currentMainImage:0,mainArray:[image1,image2],classArray:['gbg1','gbg2','gbg3','gbg4','gbg5','gbg6','gbg7','gbg8','gbg9','gbg10','gbg11','gbg12','gbg13','gbg14','gbg15','gbg16','gbg17','gbg18','gbg19','gbg20','gbg21','gbg22','bg37','bg38','bg39','bg40','bg41','bg42','bg43','bg44','one','two','three','five','six','seven','eight','nine','ten','eleven','twelve','thirteen','fourteen','fifteen','sixteen'],class:{hex:\"#3f51b5\"},classIndex:0,backgroundArray:['one','two','three','five','six','seven','eight','nine','ten','eleven','twelve','thirteen','fourteen','fifteen','sixteen','mockImageBackground','gbg1','gbg2','gbg3','gbg4','gbg5','gbg6','gbg7','gbg8','gbg9','gbg10','gbg11','gbg12','gbg13','gbg14','gbg15','gbg16','gbg17','gbg18','gbg19','gbg20','gbg21','gbg22','bg37','bg38','bg39','bg40','bg41','bg42','bg43','bg44'],backgroundType:{hex:'#4264ea'},font:{hex:'#fff'},backgroundIndex:0,content:{titleContent:titleContent,titleBlurb:titleBlurb,supportingHeading:supportingHeading,secondaryContentTitle:secondaryContentTitle,secondaryContent:secondaryContent,contactTitle:contactTitle,contactBlurb:contactBlurb,contactPhone:contactPhone,contactEmail:contactEmail,secondaryHeader:secondaryHeader,secondaryHeading1:secondaryHeading1,secondaryContent1:secondaryContent1,businessBlurb:businessBlurb,businessBlurbShort:businessBlurbShort,p3Heading1:p3Heading1,p3Content1:p3Content1,backgroundType:'mockImageBackground',class:'one',routeItems:[],mainButtonLink:'http://REDIRECT_LINK',preferredDomain:'http://example-business.co.nz'}};return _this2;}_createClass(TemplateCreator,[{key:\"shiftCurrentImage\",value:function shiftCurrentImage(){var _this3=this;setInterval(function(){_this3.nextImage();},5000);}},{key:\"nextImage\",value:function nextImage(){this.setState({currentMainImage:this.state.currentMainImage+1});}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var _this4=this;var userSubmittedTemplated,code;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return rootStore.pageStore.getTemplatesWithId(rootStore.pageStore.userId);case 2:userSubmittedTemplated=_context4.sent;console.log('from user',toJS(rootStore.pageStore.activeTemplate));console.log('EXISTING',cookie.get('code'),cookie.get('wasPurchased'));console.log('test test test ',userSubmittedTemplated);code=cookie.get('code');if(!(code&&cookie.get('wasPurchased'))){_context4.next=11;break;}firebase.firestore().collection(\"templates\").get().then(function(data){var dataToLoad=data.docs.find(function(doc){return doc.id===(rootStore.pageStore.code?\"t-\".concat(rootStore.pageStore.code):'live');});if(dataToLoad&&dataToLoad.data()){console.log(dataToLoad.data(),'LOAD');_this4.setState({code:code,content:dataToLoad.data().content,mainArray:[dataToLoad.data().content.imageURLArray?dataToLoad.data().content.imageURLArray[0]:null]});return console.log('images:',_this4.state.imageURLArray);}});_context4.next=15;break;case 11:if(userSubmittedTemplated){console.log('USER SUBMITTED:',userSubmittedTemplated);this.setState({code:code,userContinued:true,editModal:'frontPage',colorSelectorModal:false,content:userSubmittedTemplated.content,mainArray:[userSubmittedTemplated.content.imageURLArray?userSubmittedTemplated.content.imageURLArray[0]:null]});}code=Math.floor(Math.random()*10000);cookie.set('pw',code);return _context4.abrupt(\"return\",this.setState({plainCode:code}));case 15:case\"end\":return _context4.stop();}}},_callee4,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"switchBackgroundType\",value:function switchBackgroundType(){var index=this.state.backgroundIndex;if(index<this.state.backgroundArray.length-1){index=this.state.backgroundIndex+1;}else{index=0;}var content=this.state.content;content['backgroundType']=this.state.backgroundArray[index];this.setState({backgroundIndex:index,backgroundType:this.state.backgroundArray[index],content:content});}},{key:\"renderBGSelector\",value:function renderBGSelector(shouldRender){this.setState({bgSelectorActive:!this.state.bgSelectorActive,classSelectorActive:false,fontSelectorActive:false});}},{key:\"renderClassSelector\",value:function renderClassSelector(shouldRender){this.setState({classSelectorActive:!this.state.classSelectorActive,bgSelectorActive:false,fontSelectorActive:false});}},{key:\"renderFontSelector\",value:function renderFontSelector(shouldRender){this.setState({classSelectorActive:false,bgSelectorActive:false,fontSelectorActive:true});}},{key:\"handleChangeComplete\",value:function handleChangeComplete(color){this.setState({backgroundType:color});}},{key:\"handleChangeCompleteClass\",value:function handleChangeCompleteClass(color){this.setState({class:color});}},{key:\"handleChangeCompleteFont\",value:function handleChangeCompleteFont(color){this.setState({font:color});}},{key:\"changeRouteNameInput\",value:function changeRouteNameInput(e){this.setState({routeNameInput:e.target.value});}},{key:\"handleAddRoute\",value:function handleAddRoute(name){this.state.routeItems.push({name:name,type:'standard',href:\"/pages/additional\".concat(this.state.routeItems?this.state.routeItems.length:0),routeTag:\"view_additional\".concat(this.state.routeItems?this.state.routeItems.length:0,\"_nav\"),secondaryHeader:name,imageURLArray:[]});var content=this.state.content;this.setState({content:content,routeNameInput:''});}},{key:\"resetFrontPage\",value:function resetFrontPage(){return this.setState({editModal:'frontPage'});}},{key:\"changeLinkName\",value:function changeLinkName(e){return this.setState({addLinkName:e.target.value});}},{key:\"changeLinkHref\",value:function changeLinkHref(e){return this.setState({addLinkHref:e.target.value});}},{key:\"addLink\",value:function addLink(name,href){var newArray=this.state.linkArray||[];newArray.push({name:name,link:href});return this.setState({linkArray:newArray});}},{key:\"renderEditModal\",value:function renderEditModal(modalType){var _this5=this;var modalComponent=null;switch(modalType){case'LinkPage':modalComponent=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:'center'},children:\"Create a page that serves as your social media entry point!\"}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:'center'},children:[\"Your link tree will be easily accessible, both on your website and at webgun.ai/l/\",this.state.code]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',margin:100,maxHeight:500,overflowY:'auto'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"templateInputP\",style:{width:300,color:'#fff',border:'1px solid #fff'},value:this.state.addLinkName,onChange:function onChange(e){_this5.changeLinkName(e);},placeholder:'Enter name for your link, ie. Facebook'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"templateInputP\",style:{width:300,color:'#fff',border:'1px solid #fff'},value:this.state.addLinkHref,onChange:function onChange(e){_this5.changeLinkHref(e);},placeholder:'Enter URL for your link, ie. https://www.mywebsite.com'}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-around'},children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){_this5.addLink(_this5.state.addLinkName,_this5.state.addLinkHref);},style:{marginBottom:10,marginLeft:10,width:200},className:\"altButton whiteButton magOrange\",children:\"Add link\"}),/*#__PURE__*/_jsx(\"br\",{})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginBottom:200},children:/*#__PURE__*/_jsx(\"ul\",{children:this.state.linkArray&&this.state.linkArray.map(function(link){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"b\",{children:link.name}),\" : \",link.link]});})})})]});break;case'Extra':modalComponent=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:'center',fontWeight:300},children:\"Need another page? You can have up to 4 on this plan.\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:550,overflowY:'auto'},children:this.state.routeItems.map(function(route,ix){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',position:'relative',margin:20},children:/*#__PURE__*/_jsxs(\"div\",{style:{paddingBottom:0},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mainFontColor\",style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:'40%'},children:/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',paddingTop:10,marginBottom:0},children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"templateInputH1\",onChange:function onChange(e){_this5.handleAdditionalFormChange(e,ix);},value:_this5.state.routeItems[ix].secondaryHeader,name:'secondaryHeader',placeholder:'New Page Title'})})})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',flexWrap:'wrap',padding:20},children:[/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:350,paddingTop:0},children:[console.log(_this5.state.routeItems[ix]),/*#__PURE__*/_jsx(FileImporter,{practiceLogoURL:logo,imageURL:_this5.state.routeItems[ix].imageURLArray[0],index:0,routeItemsIndex:ix,display:true,uploadStatus:'success',onChange:_this5.uploadBrandImageAdditional.bind(_this5),filename:_this5.state.filename,loading:_this5.state.uploading})]}),/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:600,margin:20},children:/*#__PURE__*/_jsxs(\"p\",{className:\"mainFontColor\",style:{padding:0,whiteSpace:'break-spaces'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"                                        \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"templateInputH1\",onChange:function onChange(e){_this5.handleAdditionalFormChange(e,ix);},value:_this5.state.routeItems[ix].secondaryHeading1,name:'secondaryHeading1',placeholder:'New page heading'})]}),/*#__PURE__*/_jsx(\"textarea\",{style:{height:120},className:\"templateInputPTextArea\",onChange:function onChange(e){_this5.handleAdditionalFormChange(e,ix);},value:_this5.state.routeItems[ix].secondaryContent1,name:'secondaryContent1',placeholder:'New page content'})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mainFontColor\",style:{paddingTop:0},children:[/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:{width:'50%'},className:\"templateInputP\",onChange:function onChange(e){_this5.handleAdditionalFormChange(e,ix);},value:_this5.state.routeItems[ix].businessBlurbShort,name:'businessBlurbShort',placeholder:'Brief content relating to contacting your business'})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"div\",{className:\"altButton\",style:{width:300,marginTop:20,textAlign:'center'}})})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:50},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',paddingTop:40,flexWrap:'wrap',paddingBottom:40,marginBottom:30},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FileImporter,{practiceLogoURL:logo,imageURL:_this5.state.routeItems[ix].imageURLArray[1],index:1,routeItemsIndex:ix,display:true,uploadStatus:'success',onChange:_this5.uploadBrandImageAdditional.bind(_this5),filename:_this5.state.filename,loading:_this5.state.uploading})}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'55%',minWidth:350,paddingLeft:15},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginRight:'5%',marginBottom:0,whiteSpace:'break-spaces'},children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"templateInputH1\",onChange:function onChange(e){_this5.handleAdditionalFormChange(e,ix);},value:_this5.state.routeItems[ix].p3Heading1,name:'p3Heading1'})}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:18,paddingLeft:0,paddingTop:10,whiteSpace:'break-spaces'},children:[/*#__PURE__*/_jsx(\"textarea\",{style:{height:300},className:\"templateInputP\",onChange:function onChange(e){_this5.handleAdditionalFormChange(e,ix);},value:_this5.state.routeItems[ix].p3Content1,name:'p3Content1'}),\"                                            \"]})]})]})})})]});})}),/*#__PURE__*/_jsxs(\"div\",{style:{paddingTop:30,display:'inline-flex',flexWrap:'wrap',paddingLeft:100,paddingRight:100,alignContent:'flex-start',alignItems:'space-around',justifyContent:'center',width:'100%'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"templateInputP\",style:{width:300,marginBottom:30},value:this.state.routeNameInput,onChange:function onChange(e){_this5.changeRouteNameInput(e);},placeholder:'Enter a name for the new page'}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:0,marginBottom:20,width:180},onClick:function onClick(){if(_this5.state.routeItems.length<3&&_this5.state.routeNameInput){_this5.handleAddRoute(_this5.state.routeNameInput);}},className:\"altButton whiteButton magOrange \".concat(this.state.routeItems.length<3?'':'NABUTTON'),children:\"Add Route\"})]})]});break;case'fifthPage':modalComponent=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:'center',fontWeight:300},children:\"Additional Page\"}),/*#__PURE__*/_jsx(\"div\",{style:{position:'relative',marginTop:0,marginBottom:0},children:/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:10},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',paddingTop:40,flexWrap:'wrap',paddingBottom:10,marginBottom:0},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FileImporter,{practiceLogoURL:logo,imageURL:this.state.imageURLArray[3],index:3,display:true,routeItemsIndex:null,uploadStatus:'success',onChange:this.uploadBrandImage.bind(this),filename:this.state.filename,loading:this.state.uploading})}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'55%',minWidth:350,paddingLeft:15},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginRight:'5%',marginBottom:0,whiteSpace:'break-spaces'},children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"templateInputH1\",onChange:this.handleContentFormChange,value:this.state.content.p3Heading1,name:'p3Heading1'})}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:18,paddingLeft:0,paddingTop:10,whiteSpace:'break-spaces',height:200},children:/*#__PURE__*/_jsx(\"textarea\",{style:{height:75},className:\"templateInputP\",onChange:this.handleContentFormChange,value:this.state.content.p3Content1,name:'p3Content1'})})]})]})})})})]});break;case'fourthPage':modalComponent=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:'center',fontWeight:300},children:\"Contact Page\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:0},children:/*#__PURE__*/_jsx(\"div\",{style:{marginTop:20,padding:20,margin:0},children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{width:500},children:[/*#__PURE__*/_jsx(\"input\",{style:{height:40},type:\"text\",className:\"templateInputP\",onChange:this.handleContentFormChange,value:this.state.content.contactTitle,name:'contactTitle'}),/*#__PURE__*/_jsx(\"p\",{style:{marginBottom:10,paddingLeft:15,paddingTop:10,height:120,minWidth:300,textAlign:'center',whiteSpace:'break-spaces'},children:/*#__PURE__*/_jsx(\"textarea\",{style:{height:85},className:\"templateInputP\",onChange:this.handleContentFormChange,value:this.state.content.contactBlurb,name:'contactBlurb'})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:10},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"i\",{style:{position:'absolute',top:20,left:0,color:'#fff'},className:\"material-icons\",children:\"mail\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:40},children:[/*#__PURE__*/_jsx(\"b\",{}),\"                                    \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"templateInputP\",onChange:this.handleContentFormChange,value:this.state.content.contactEmail,name:'contactEmail'})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:10},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"i\",{style:{position:'absolute',top:20,left:10,color:'#fff'},className:\"material-icons\",children:\"local_phone\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:40},children:[/*#__PURE__*/_jsx(\"b\",{}),\"                                    \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"templateInputP\",onChange:this.handleContentFormChange,value:this.state.content.contactPhone,name:'contactPhone'})]})]}),/*#__PURE__*/_jsx(\"br\",{})]}),this.state.mapsCenter&&/*#__PURE__*/_jsx(SimpleMap,{center:this.state.mapsCenter,name:this.state.businessName}),/*#__PURE__*/_jsx(\"div\",{})]})})})})]});break;case'thirdPage':modalComponent=/*#__PURE__*/_jsxs(\"div\",{style:{height:600},children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:'center',fontWeight:300},children:\"About Page\"}),/*#__PURE__*/_jsx(FileImporter,{routeItemsIndex:null,practiceLogoURL:logo,imageURL:this.state.imageURLArray[2],index:2,display:true,uploadStatus:'success',onChange:this.uploadBrandImage.bind(this),filename:this.state.filename,loading:this.state.uploading}),/*#__PURE__*/_jsx(\"div\",{className:\"mainFontColor\",style:{display:'flex',justifyContent:'center',height:100},children:/*#__PURE__*/_jsxs(\"div\",{style:{width:'40%'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"templateInputH1\",onChange:this.handleContentFormChange,value:this.state.content.secondaryHeader,name:'secondaryHeader'}),/*#__PURE__*/_jsx(\"div\",{style:{flexWrap:'wrap'},children:/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:600,margin:20},children:/*#__PURE__*/_jsxs(\"p\",{className:\"mainFontColor\",style:{padding:20,whiteSpace:'break-spaces'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"                                        \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"templateInputP\",onChange:this.handleContentFormChange,value:this.state.content.secondaryHeading1,name:'secondaryHeading1'})]}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",style:{height:120},className:\"templateInputP\",onChange:this.handleContentFormChange,value:this.state.content.secondaryContent1,name:'secondaryContent1'})]})})})]})})]});break;case'secondPage':modalComponent=/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:'center',fontWeight:300},children:\"Front Page Contents\"}),\" \",/*#__PURE__*/_jsx(\"div\",{style:{fontSize:20,paddingBottom:0},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'20%'},children:/*#__PURE__*/_jsx(FileImporter,{routeItemsIndex:null,practiceLogoURL:logo,imageURL:this.state.imageURLArray[1],index:1,display:true,uploadStatus:'success',onChange:this.uploadBrandImage.bind(this),filename:this.state.filename,loading:this.state.uploading})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{style:{width:'60%',height:90},type:\"text\",className:\"templateInputP\",onChange:this.handleContentFormChange,value:this.state.content.supportingHeading,name:'supportingHeading'})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{paddingTop:0,display:'flex',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"templateInputP\",onChange:this.handleContentFormChange,value:this.state.content.secondaryContentTitle,name:'secondaryContentTitle'}),/*#__PURE__*/_jsx(\"textarea\",{style:{height:110},className:\"templateInputP\",onChange:this.handleContentFormChange,value:this.state.content.secondaryContent,name:'secondaryContent'})]})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',paddingTop:20,flexWrap:'wrap',paddingBottom:30,marginBottom:20}})})})]});break;case'frontPage':modalComponent=/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:750,height:'auto',marginTop:20},children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginTop:40,fontWeight:300,textAlign:'center'},children:this.state.selectedBusinessInfo?'':'Find your Google business'}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:20},children:/*#__PURE__*/_jsx(GoogleMyBusinessForm,{places:this.state.places,selectedBusinessInfo:this.state.selectedBusinessInfo,triggerAutoComplete:function triggerAutoComplete(data){// @ts-ignore\nvar key=process.env.REACT_APP_MAPS_KEY;rootStore.pageStore.autoCompletePlacesAction(data,key).then(function(res){console.log('...FACES',res,key);_this5.setState({places:res&&res.predictions});});},getRelevantBusinessInfo:function getRelevantBusinessInfo(placeInformation){var key=process.env.REACT_APP_MAPS_KEY;rootStore.pageStore.getRelevantBusinessInfo(placeInformation,key).then(function(info){console.log('...INFO',info);if(info){var content=_this5.state.content;content.contactPhone=info.phoneNumber||'';content.contactAddress=info.address||'';content.contactTypes=info.types||[];content.location=info.location||{};content.businessName=info.name;var mapsCenter={lat:59.95,lng:30.33};if(info.location){mapsCenter={lat:info.location.latitude,lng:info.location.longitude};content.mapsCenter=mapsCenter;}_this5.setState({selectedBusinessInfo:info,content:content,mapsCenter:mapsCenter,businessName:info.name});}else{_this5.setState({selectedBusinessInfo:null});}});}})}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',zIndex:8999,width:'90%'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',right:'28%'},children:[/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:0,marginBottom:0,display:'flex',justifyContent:'flex-start'},children:/*#__PURE__*/_jsx(FileImporter,{isSmall:true,routeItemsIndex:null,practiceLogoURL:logo,imageURL:this.state.logo,index:0,display:true,uploadStatus:'success',onChange:this.uploadLogoImage.bind(this),filename:this.state.filename,loading:this.state.uploading})}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#fff',textAlign:'left',paddingLeft:100},children:\"Add a branding logo\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:0,marginBottom:0,display:'flex',justifyContent:'center',width:'70%'},children:/*#__PURE__*/_jsx(FileImporter,{routeItemsIndex:null,practiceLogoURL:logo,imageURL:this.state.imageURLArray[0],index:0,display:true,uploadStatus:'success',onChange:this.uploadBrandImage.bind(this),filename:this.state.filename,loading:this.state.uploading})}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#fff',textAlign:'center',width:'70%'},children:\"Add a banner image\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',paddingBottom:0},children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:30,minWidth:300,maxWidth:630,width:'100%',paddingTop:0,paddingLeft:10,paddingRight:0,textAlign:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"templateInputH1\",onChange:this.handleContentFormChange,value:this.state.content.titleContent,name:'titleContent'}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:20,marginLeft:0},className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"templateInputP\",onChange:this.handleContentFormChange,value:this.state.content.titleBlurb,name:'titleBlurb'})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:{width:'20%'},className:\"templateInputP\",onChange:this.handleContentFormChange,placeholder:\"Call to Action 1\",value:this.state.content.mainButtonTitle,name:'mainButtonTitle'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:{width:'60%'},className:\"templateInputP\",onChange:this.handleContentFormChange,value:this.state.content.mainButtonLink,name:'mainButtonLink'})]})]})})]})]});}var buttonContent='';switch(this.state.editModal){case'frontPage':buttonContent='Next';break;case'secondPage':buttonContent='Next';break;case'thirdPage':buttonContent='Next';break;case'fourthPage':buttonContent='Next';break;case'fifthPage':buttonContent='Save and Show me';break;case'Extra':buttonContent='Save and Show me';break;case'LinkPage':buttonContent='Save and Show me';break;}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{style:{position:'relative',zIndex:999999,display:'flex',justifyContent:'center',padding:60},children:/*#__PURE__*/_jsxs(\"div\",{className:\"templateMaker\",style:{width:'100%',margin:0,minHeight:'90.5vh',paddingBottom:100,position:'absolute',top:0,padding:60,paddingLeft:20,backgroundColor:'#ff2019',color:'#fff'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'relative',zIndex:9999},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',position:'absolute',border:'1px solid #fff',padding:10,borderRadius:0,borderLeft:'none',left:-20},children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){_this5.setState({editModal:'frontPage'});},className:\"\".concat(this.state.editModal==='frontPage'?'navEditActive':'',\" navEdit\"),children:\"Setup\"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){_this5.setState({editModal:'secondPage'});},className:\"\".concat(this.state.editModal==='secondPage'?'navEditActive':'',\" navEdit\"),children:\"Front Page\"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){_this5.setState({editModal:'thirdPage'});},className:\"\".concat(this.state.editModal==='thirdPage'?'navEditActive':'',\" navEdit\"),children:\"About \"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){_this5.setState({editModal:'fourthPage'});},className:\"\".concat(this.state.editModal==='fourthPage'?'navEditActive':'',\" navEdit\"),children:\"Contact \"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){_this5.setState({editModal:'fifthPage'});},className:\"\".concat(this.state.editModal==='fifthPage'?'navEditActive':'',\" navEdit\"),children:\"Additional \"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){_this5.setState({editModal:'LinkPage'});},className:\"\".concat(this.state.editModal==='LinkPage'?'navEditActive':'',\" navEdit\"),children:\"Links \"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){_this5.setState({editModal:'Extra'});},className:\"\".concat(this.state.editModal==='Extra'?'navEditActive':'',\" navEdit\"),children:\"Routes \"})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{paddingLeft:90},children:[this.state.editModal==='frontPage'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"h4\",{style:{fontWeight:300,textAlign:'center'},children:\"Choose a domain name\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"input\",{className:\"templateInputP\",style:{width:430},type:\"text\",placeholder:'Your chosen domain name',value:this.state.code,onChange:function onChange(e){return _this5.setState({code:e.target.value});}}),/*#__PURE__*/_jsx(\"span\",{style:{paddingTop:15,fontSize:22,fontWeight:600,color:'#fff'},children:\".co.nz\"})]})]}),modalComponent]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center'},children:[this.state.editModal==='fifthPage'&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginRight:20},onClick:function onClick(){_this5.setState({editModal:'Extra'});},className:\"altButton whiteButton magOrange\",children:\"Add another page\"}),this.state.editModal==='fifthPage'&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginRight:20},onClick:function onClick(){_this5.setState({editModal:'LinkPage'});},className:\"altButton whiteButton magOrange newFeature\",children:\"Create Link Tree\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginLeft:20},onClick:function onClick(){var nextPage='';switch(_this5.state.editModal){case'frontPage':nextPage='secondPage';break;case'secondPage':nextPage='thirdPage';break;case'thirdPage':nextPage='fourthPage';break;case'fourthPage':nextPage='fifthPage';break;}if(_this5.state.editModal==='fifthPage'||_this5.state.editModal==='Extra'||_this5.state.editModal==='LinkPage'){var splitCode=_this5.state.code||_this5.state.plainCode.toString();splitCode=splitCode.replace(/\\s+/g,'-').toLowerCase();firebase.analytics().logEvent('template_init_mm',{code:splitCode});rootStore.pageStore.setCode(splitCode||_this5.state.plainCode);firebase.firestore().collection(\"templates\").get().then(function(data){console.log('data:',data.docs[0].data());});var content=_this5.state.content;content.imageURLArray=_this5.state.imageURLArray;content.routeItems=_this5.state.routeItems;content.routeItemsDefault=_this5.state.routeItemsDefault;content.logo=_this5.state.logo;content.templateType=_this5.state.templateSelected||'dm';content.linkArray=_this5.state.linkArray;content.businessInfo=_this5.state.selectedBusinessInfo||{name:''};content.backgroundType=_this5.state.backgroundType.hex;content.class=_this5.state.class.hex;content.font=_this5.state.font.hex;cookie.set('templateType',_this5.state.templateSelected);console.log('SET:',splitCode,_this5.state.plainCode,':',content);if(rootStore.pageStore.userId){firebase.firestore().collection(\"users\").doc(\"\".concat(rootStore.pageStore.userId)).set({templateCode:\"t-\".concat(splitCode||_this5.state.plainCode)}).then(function(){console.log(\"Document successfully written for\",rootStore.pageStore.userId,\"t-\".concat(splitCode||_this5.state.plainCode));});}firebase.firestore().collection(\"templates\").doc(\"t-\".concat(splitCode||_this5.state.plainCode)).set({content:content,author:rootStore.pageStore.userId||'Guest'}).then(function(){console.log(\"Document successfully written!\");window.location.href='/pages';if(_this5.state.linkArray){firebase.firestore().collection('links').doc(splitCode).set({links:_this5.state.linkArray}).then(function(){console.log('Wrote link array',_this5.state.linkArray,splitCode);});}}).catch(function(error){console.error(\"Error writing document: \",error,content,_this5.state.content);});console.log('something may have happened');}_this5.setState({editModal:nextPage});},className:\"altButton whiteButton magOrange\",children:buttonContent}),cookie.get('wasPurchased')&&/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){if(_this5.state.loadState==='success'){return window.location.href='/pages';}if(_this5.state.loadState==='loading'){return;}_this5.setState({loadState:'loading'});var content=_this5.state.content;content.imageURLArray=_this5.state.imageURLArray;content.routeItems=_this5.state.routeItems;content.routeItemsDefault=_this5.state.routeItemsDefault;content.logo=_this5.state.logo;content.templateType=_this5.state.templateSelected;console.log('SET:',cookie.get('wasPurchased'),_this5.state.plainCode,':',content);firebase.firestore().collection(\"templates\").doc(\"t-\".concat(cookie.get('wasPurchased'))).set({content:content}).then(function(){_this5.setState({loadState:'success'});console.log(\"Document successfully written!\");}).catch(function(error){_this5.setState({loadState:null});console.error(\"Error writing document: \",error,content,_this5.state.content);});rootStore.pageStore.createWebsite(cookie.get('wasPurchased'),_this5.state.content);},className:\"altButton whiteButton magOrange \".concat(this.state.loadState==='loading'&&'disabledButton'),style:{marginLeft:10},children:this.state.loadState==='success'?'Preview now':'Update Live Site'})]})]})})});}},{key:\"render\",value:function render(){var _this6=this;console.log('firebase:',firebase.apps.length,this.state.backgroundType,this.state.class,'/?///');return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{userEmail:rootStore.pageStore.userEmail,resetFrontPage:function resetFrontPage(){_this6.resetFrontPage();},classSelectorActive:this.state.classSelectorActive,bgSelectorActive:this.state.bgSelectorActive,renderClassSelector:function renderClassSelector(){_this6.renderClassSelector();},renderBGSelector:function renderBGSelector(){_this6.renderBGSelector();},switchBackgroundType:function switchBackgroundType(){_this6.switchBackgroundType();},backgroundType:'bg20'}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',zIndex:9999,right:0},children:[this.state.bgSelectorActive&&this.BGSelector(),this.state.classSelectorActive&&this.ClassSelector(),this.state.fontSelectorActive&&this.FontSelector()]}),this.state.colorSelectorModal&&/*#__PURE__*/_jsx(\"div\",{style:{position:'relative',zIndex:9998,display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"div\",{className:'templateMaker',style:{width:'100%',margin:0,height:1200,position:'absolute',top:0,padding:60,backgroundColor:'#ff2019',color:'#fff'},children:this.state.continueModal?/*#__PURE__*/_jsxs(\"div\",{className:\"fadedshort\",children:[/*#__PURE__*/_jsx(\"h4\",{style:{textAlign:'center',fontWeight:300},children:\"Select your background and primary color theme by clicking on the element you want to change.\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){_this6.renderBGSelector(true);},style:{cursor:'pointer',margin:30,padding:20,backgroundColor:this.state.backgroundType.hex},children:/*#__PURE__*/_jsx(\"div\",{style:{width:250,height:200,display:'flex',justifyContent:'center',borderRadius:4},children:/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(e){e.stopPropagation();_this6.renderClassSelector(true);},style:{cursor:'pointer',width:200,height:100,padding:25,marginTop:40,borderRadius:4,backgroundColor:this.state.class.hex},children:/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(e){e.stopPropagation();_this6.renderFontSelector(true);},style:{fontSize:22,color:this.state.font.hex,fontWeight:700,cursor:'pointer'},children:\"Example text\"})})})}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center'},children:\"Ready to move on?\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginTop:10},children:/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){_this6.setState({colorSelectorModal:false,editModal:'frontPage'});},className:\"altButton whiteButton magOrange\",children:\"Let's go!\"})})]})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:'center',fontSize:42},children:\"Create a website and have it delivered in minutes!\"}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:'center'},children:[\"Draft up a website here and preview it immediately! If you like what you see, you can checkout immediately after previewing. \",/*#__PURE__*/_jsx(\"br\",{}),\"Every marketing magnet subscription includes scope for additional development and polishing, so you don't sweat the small stuff! \"]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:40,marginBottom:50,fontWeight:300},children:rootStore.pageStore.userEmail?/*#__PURE__*/_jsx(\"h3\",{children:\"Select a template to get started\"}):/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-evenly'},children:[/*#__PURE__*/_jsx(GoogleButton,{signUpHandler:signUpUsingSocial.bind(this)}),/*#__PURE__*/_jsx(FacebookButton,{signUpHandler:function signUpHandler(){}})]})}),rootStore.pageStore.userEmail?/*#__PURE__*/_jsxs(\"div\",{className:\"fadedshort\",style:{display:'flex',justifyContent:'space-evenly',marginTop:40},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',cursor:'pointer'},onClick:function onClick(){_this6.setState({templateSelected:'dm',continueModal:true});},children:[/*#__PURE__*/_jsx(\"div\",{style:{top:-36,position:'absolute'},children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:24},children:\"Digital Marketing\"})}),/*#__PURE__*/_jsx(\"img\",{className:\"templateClass\",style:{borderRadius:4,opacity:0.7},width:400,src:mm1})]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',cursor:'pointer'},onClick:function onClick(){_this6.setState({templateSelected:'pm',continueModal:true});},children:[/*#__PURE__*/_jsx(\"div\",{style:{top:-36,position:'absolute'},children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:24},children:\"E-commerce and Services\"})}),/*#__PURE__*/_jsx(\"img\",{className:\"templateClass\",style:{borderRadius:4,opacity:0.7},height:700,src:property})]})]}):null,/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginTop:30}})]})})}),this.state.editModal&&this.renderEditModal(this.state.editModal),/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',position:'relative',opacity:this.state.editModal||this.state.colorSelectorModal?0.1:1,paddingBottom:100},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"myDIV\"})})})})]});}}]);return TemplateCreator;}(React.Component))||_class)||_class);export default TemplateCreator;","map":{"version":3,"sources":["/Users/aider/WebstormProjects/Marketslick/Marketslick/src/pages/TemplateCreator.js"],"names":["React","image1","image2","home_icon","logo","firebase","rootStore","builder","mm1","property","SwatchesPicker","mainButtonLink","mainButtonTitle","contactButtonTitle","businessBlurb","contactEmail","contactPhone","contactTitle","mailChimpSource","secondary","secondaryContent","secondaryContentTitle","supportingBlurb","supportingHeading","titleBlurb","titleContent","autoCompletePlaces","RouteItems","contactBlurb","secondaryHeader","secondaryPhoto1","secondaryHeading1","secondaryContent1","businessBlurbShort","contactCTA","p3ContentPhoto","p3Heading1","p3Content1","FileImporter","GoogleMyBusinessForm","cookie","p2","useHistory","inject","observer","toJS","SimpleMap","Swatches","FacebookButton","props","history","handleClick","signUpHandler","width","padding","cursor","GoogleButton","signUpUsingSocial","pageStore","signUpUsingGoogle","signUpUsingFacebook","NavBar","window","location","href","userEmail","resetFrontPage","signOut","bind","TemplateCreator","handleContentFormChange","event","target","name","value","setState","prevState","content","handleAdditionalFormChange","index","routeItems","state","console","log","uploadBrandImage","e","fileInput","filename","files","uploading","Array","from","file","formData","FormData","storageRef","storage","ref","practiceImageRef","child","code","uploadTask","put","on","TaskEvent","STATE_CHANGED","snapshot","progress","bytesTransferred","totalBytes","error","imageUrlArray","imageURLArray","getDownloadURL","then","downloadURL","uploadLogoImage","uploadBrandImageAdditional","routeItemsIndex","BGSelector","margin","marginBottom","borderRadius","backgroundColor","display","justifyContent","flexWrap","alignContent","backgroundType","handleChangeComplete","ClassSelector","class","handleChangeCompleteClass","FontSelector","font","handleChangeCompleteFont","fontSelector","contactRef","createRef","linkArray","loadState","colorSelectorModal","editModal","routeItemsDefault","places","plainCode","bgSelectorActive","classSelectorActive","currentMainImage","mainArray","classArray","hex","classIndex","backgroundArray","backgroundIndex","preferredDomain","setInterval","nextImage","getTemplatesWithId","userId","userSubmittedTemplated","activeTemplate","get","firestore","collection","data","dataToLoad","docs","find","doc","id","userContinued","Math","floor","random","set","length","shouldRender","fontSelectorActive","color","routeNameInput","push","type","routeTag","addLinkName","addLinkHref","newArray","link","modalType","modalComponent","textAlign","maxHeight","overflowY","border","changeLinkName","changeLinkHref","addLink","marginLeft","map","fontWeight","route","ix","height","position","paddingBottom","paddingTop","maxWidth","whiteSpace","marginTop","minWidth","paddingLeft","marginRight","fontSize","paddingRight","alignItems","changeRouteNameInput","handleAddRoute","top","left","mapsCenter","businessName","minHeight","selectedBusinessInfo","key","process","env","REACT_APP_MAPS_KEY","autoCompletePlacesAction","res","predictions","placeInformation","getRelevantBusinessInfo","info","phoneNumber","contactAddress","address","contactTypes","types","lat","lng","latitude","longitude","zIndex","right","buttonContent","flexDirection","borderLeft","nextPage","splitCode","toString","replace","toLowerCase","analytics","logEvent","setCode","templateType","templateSelected","businessInfo","templateCode","author","links","catch","createWebsite","apps","renderClassSelector","renderBGSelector","switchBackgroundType","continueModal","stopPropagation","renderFontSelector","opacity","renderEditModal","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport image1 from '../images/realtor-010.jpeg';\nimport image2 from '../images/realtor-010.png';\nimport home_icon from '../images/realtor-icon-4-dark.png';\nimport logo from '../images/sm3.png';\nimport firebase from \"firebase/compat\";\nimport {rootStore} from '../stores/Store';\nimport builder from '../images/builder.png'\nimport mm1 from '../images/mm1.png'\nimport property from '../images/property.png'\nimport {SwatchesPicker} from \"react-color\";\nimport {\n    mainButtonLink,\n    mainButtonTitle,\n    contactButtonTitle,\n    businessBlurb,\n    contactEmail,\n    contactPhone,\n    contactTitle,\n    mailChimpSource,\n    secondary,\n    secondaryContent,\n    secondaryContentTitle,\n    supportingBlurb,\n    supportingHeading,\n    titleBlurb,\n    titleContent,autoCompletePlaces,\n    RouteItems,\n    contactBlurb,\n    secondaryHeader,\n    secondaryPhoto1,\n    secondaryHeading1,\n    secondaryContent1,\n    businessBlurbShort,\n    contactCTA,\n    p3ContentPhoto, p3Heading1, p3Content1\n} from \"../content\";\nimport {FileImporter} from \"./FileImporter\";\nimport GoogleMyBusinessForm from \"./GoogleMyBusinessForm\";\nimport cookie from \"js-cookie\";\nimport p2 from \"../images/p2.png\";\nimport {useHistory} from \"react-router\";\nimport {inject, observer} from \"mobx-react\";\nimport {toJS} from \"mobx\";\nimport SimpleMap from \"./SimpleMap\";\nimport {Swatches} from \"react-color/lib/components/swatches/Swatches\";\nexport const FacebookButton=(props)=>{\n    const history = useHistory();\n\n    function handleClick() {\n        props.signUpHandler('facebook');\n        // history.push('/sso/google');\n    }\n\n    return (\n        <div style={{width:320,padding:12,cursor:'not-allowed'}}\n             className=\"sign-up-button google-sign-up\"\n             onClick={handleClick}\n        >\n            <img className=\"social-sign-up-icon\" src=\"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg\" alt=\"Sign up with Facebook\" />\n            <span className=\"social-sign-up-text\">Continue With Facebook</span>\n        </div>\n    );\n\n}\nexport const GoogleButton = (props) => {\n    const history = useHistory();\n\n    function handleClick() {\n        props.signUpHandler('google');\n        // history.push('/sso/google');\n    }\n\n    return (\n        <div style={{width:300,padding:12,cursor:'pointer'}}\n            className=\"sign-up-button google-sign-up\"\n            onClick={handleClick}\n        >\n            <img className=\"social-sign-up-icon\" src=\"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg\" alt=\"Sign up with Google\" />\n            <span className=\"social-sign-up-text\">Continue With Google</span>\n        </div>\n    );\n};\nfunction signUpUsingSocial(){\n    return rootStore.pageStore.signUpUsingGoogle();\n}\nfunction signUpUsingFacebook(){\n    return rootStore.pageStore.signUpUsingFacebook();\n\n}\nexport const NavBar = (props)=>(\n    <nav className={`navbar navbar-expand-xl bg-dark-blue navbar-dark myNav navTextColor`}>\n        <div className=\"container\">\n            <a className=\"navbar-brand\">\n                <img onClick={()=>{window.location.href='/'}} src={logo} alt=\"\" width=\"100\" />\n            </a>\n\n\n            <button className=\"navbar-toggler rounded-4 shadow-sm\" type=\"button\"\n                    data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\"\n                    aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                <span className=\"navbar-toggler-icon\"></span>\n            </button>\n            <div className=\"collapse navbar-collapse px-3\" id=\"navbarSupportedContent\">\n                {props.userEmail?\n                <ul className=\"navbar-nav ms-auto me-0 mb-2 mb-lg-0\">\n                    <li className=\"nav-item\">\n                    <a style={{cursor:'pointer'}} onClick={()=>{if(props.userEmail){return props.resetFrontPage()}{return null}}} className=\"nav-link whiteTextNav\" aria-current=\"page\">Reset</a>\n                    </li>\n                    <li className=\"nav-item\" style={{cursor: 'pointer'}} onClick={() => {\n                        window.location.href = '/';\n                    }}><a className=\"nav-link whiteTextNav\" aria-current=\"page\">Home</a>\n                    </li>\n                    <li className=\"nav-item\" style={{cursor: 'pointer'}} onClick={() => {\n                        rootStore.pageStore.signOut();\n                    }}>\n                        <a className=\"nav-link whiteTextNav\" aria-current=\"page\"> {props.userEmail? <>Sign Out</>:      <GoogleButton signUpHandler={signUpUsingSocial.bind(this)} />}</a>\n                    </li>\n                </ul>:null}\n            </div>\n        </div>\n    </nav>);\n\n@inject('rootStore') @observer  class TemplateCreator extends React.Component {\n    constructor(props) {\n        super(props);\n        this.contactRef = React.createRef()\n        this.state={\n            linkArray:[],\n            loadState:null,\n            colorSelectorModal:true,\n            editModal:null,\n            logo:null,\n            routeItemsDefault:RouteItems,\n            routeItems:[],\n            places:[],\n            plainCode:0,\n            imageURLArray:[],\n            bgSelectorActive:false,\n            classSelectorActive:false,\n            currentMainImage:0,\n            mainArray:[image1,image2],\n            classArray:[ 'gbg1','gbg2','gbg3','gbg4','gbg5','gbg6','gbg7',\n                'gbg8','gbg9',\n                'gbg10','gbg11',\n                'gbg12',\n                'gbg13',\n                'gbg14',\n                'gbg15',\n                'gbg16',\n                'gbg17',\n                'gbg18',\n                'gbg19',\n                'gbg20',\n                'gbg21',\n                'gbg22',\n                'bg37',\n                'bg38',\n                'bg39',\n                'bg40',\n                'bg41',\n                'bg42',\n                'bg43',\n                'bg44','one','two','three','five','six','seven','eight','nine','ten','eleven','twelve','thirteen','fourteen','fifteen','sixteen'],\n            class: {hex:\"#3f51b5\"},\n            classIndex:0,\n            backgroundArray:['one','two','three','five','six','seven','eight','nine','ten','eleven','twelve','thirteen','fourteen','fifteen','sixteen','mockImageBackground',\n                'gbg1','gbg2','gbg3','gbg4','gbg5','gbg6','gbg7',\n                'gbg8','gbg9',\n                'gbg10','gbg11',\n                'gbg12',\n                'gbg13',\n                'gbg14',\n                'gbg15',\n                'gbg16',\n                'gbg17',\n                'gbg18',\n                'gbg19',\n                'gbg20',\n                'gbg21',\n                'gbg22',\n            'bg37',\n            'bg38',\n            'bg39',\n            'bg40',\n            'bg41',\n            'bg42',\n            'bg43',\n            'bg44',\n            ],\n            backgroundType: {hex:'#4264ea'},\n            font: {hex:'#fff'},\n        backgroundIndex:0,\n            content:{\n                titleContent:titleContent,\n                titleBlurb:titleBlurb,\n                supportingHeading:supportingHeading,\n                secondaryContentTitle:secondaryContentTitle,\n                secondaryContent:secondaryContent,\n                contactTitle:contactTitle,\n                contactBlurb:contactBlurb,\n                contactPhone:contactPhone,\n                contactEmail:contactEmail,\n                secondaryHeader:secondaryHeader,\n                secondaryHeading1:secondaryHeading1,\n                secondaryContent1:secondaryContent1,\n                businessBlurb:businessBlurb,\n                businessBlurbShort:businessBlurbShort,\n                p3Heading1:p3Heading1,\n                p3Content1:p3Content1,\n                backgroundType:'mockImageBackground',\n                class:'one',\n                routeItems:[],\n                mainButtonLink:'http://REDIRECT_LINK',\n                preferredDomain:'http://example-business.co.nz'\n\n            }\n        }\n    }\n    shiftCurrentImage(){\n        setInterval(()=>{\n            this.nextImage();\n        },5000);\n    }\n    nextImage(){\n        this.setState({\n            currentMainImage:this.state.currentMainImage+1\n        })\n    }\n    async componentDidMount(){\n        const userSubmittedTemplated = await rootStore.pageStore.getTemplatesWithId(rootStore.pageStore.userId);\n        console.log('from user',toJS(rootStore.pageStore.activeTemplate));\n        console.log('EXISTING',cookie.get('code'),cookie.get('wasPurchased'));\n        console.log('test test test ',userSubmittedTemplated);\n\n        let code=cookie.get('code');\n        if(code&&cookie.get('wasPurchased')){\n            firebase.firestore().collection(\"templates\").get().then((data)=>{\n                const dataToLoad=data.docs.find((doc)=>doc.id===(rootStore.pageStore.code?`t-${rootStore.pageStore.code}`:'live'));\n                if(dataToLoad&&dataToLoad.data()) {\n                    console.log(dataToLoad.data(),'LOAD');\n                    this.setState({code:code,content: dataToLoad.data().content,mainArray:[dataToLoad.data().content.imageURLArray?dataToLoad.data().content.imageURLArray[0]:null]})\n                    return console.log('images:',this.state.imageURLArray);\n                }\n            })\n        }\n        else{\n            if(userSubmittedTemplated){\n                console.log('USER SUBMITTED:',userSubmittedTemplated);\n                this.setState({code:code,userContinued:true,editModal:'frontPage',colorSelectorModal:false,content: userSubmittedTemplated.content,mainArray:[userSubmittedTemplated.content.imageURLArray?userSubmittedTemplated.content.imageURLArray[0]:null]})\n\n            }\n            code = Math.floor(Math.random()*10000);\n            cookie.set('pw',code);\n            return this.setState({plainCode:code});\n        }\n\n\n    }\n    switchBackgroundType(){\n        let index = this.state.backgroundIndex;\n        if(index<this.state.backgroundArray.length-1){\n            index=this.state.backgroundIndex+1;\n        }else{\n            index = 0;\n        }\n        let content = this.state.content;\n        content['backgroundType']=this.state.backgroundArray[index];\n        this.setState({backgroundIndex:index,backgroundType:this.state.backgroundArray[index],content:content});\n    }\n    handleContentFormChange = (event) => {\n        const { name, value } = event.target;\n        this.setState((prevState) => {\n            const { content } = prevState;\n            content[name] = value;\n            return { content };\n        });\n    };\n    handleAdditionalFormChange =(event,index) =>{\n        const { name, value } = event.target;\n        const routeItems = this.state.routeItems;\n        routeItems[index][`${name}`] = value;\n        console.log(this.state.routeItems[index],this.state.routeItems[index][`${name}`],value);\n        this.setState({routeItems:routeItems})\n    }\n    renderBGSelector(shouldRender){\n        this.setState({bgSelectorActive:!this.state.bgSelectorActive,classSelectorActive:false,fontSelectorActive:false})\n    }\n    renderClassSelector(shouldRender){\n        this.setState({classSelectorActive:!this.state.classSelectorActive,bgSelectorActive:false,fontSelectorActive:false})\n    }\n    renderFontSelector(shouldRender){\n        this.setState({classSelectorActive:false,bgSelectorActive:false,fontSelectorActive:true})\n    }\n\n    uploadBrandImage = async (e,fileInput,index)=>{\n        let file;\n        try {\n            if(!fileInput) {\n                this.setState({filename: e.target.files[0].name, uploading: true});\n                const files = Array.from(e.target.files)\n                file = files[0];\n            }\n            else{\n                this.setState({filename: fileInput.name, uploading: true});\n                file = fileInput\n            }\n            const formData = new FormData();\n            let storageRef = firebase.storage().ref();\n            // @ts-ignore\n            let practiceImageRef = storageRef.child(`images/${this.state.code}/${index}`);\n            // @ts-ignore\n            let uploadTask = practiceImageRef.put(file);\n            // @ts-ignore\n            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\n                (snapshot) => {\n                    // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n                    var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                },\n                (error) => {\n                    console.log('ERROR writefile',error);\n                    let imageUrlArray=this.state.imageURLArray;\n                    imageUrlArray[index] = null;\n                    this.setState({imageURLArray:imageUrlArray,filename:null,uploading:false})\n\n                },\n                () => {\n                    // Upload completed successfully, now we can get the download URL\n                    // @ts-ignore\n                    uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\n                        let imageUrlArray=this.state.imageURLArray;\n                        imageUrlArray[index] = downloadURL;\n                        this.setState({uploading: false, imageURLArray: imageUrlArray});\n                        // @ts-ignore\n\n                    });\n                }\n            );\n        }catch(e){\n            console.log('ERROR catchblock',e);\n            let imageUrlArray=this.state.imageURLArray;\n            imageUrlArray[index] = null;\n            this.setState({imageURLArray:imageUrlArray,filename:null,uploading:false})\n        }\n    };\n    uploadLogoImage = async (e,fileInput,index)=>{\n        let file;\n        try {\n            if(!fileInput) {\n                this.setState({filename: e.target.files[0].name, uploading: true});\n                const files = Array.from(e.target.files)\n                file = files[0];\n            }\n            else{\n                this.setState({filename: fileInput.name, uploading: true});\n                file = fileInput\n            }\n            const formData = new FormData();\n            let storageRef = firebase.storage().ref();\n            // @ts-ignore\n            let practiceImageRef = storageRef.child(`images/${this.state.code}/logo`);\n            // @ts-ignore\n            let uploadTask = practiceImageRef.put(file);\n            // @ts-ignore\n            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\n                (snapshot) => {\n                    // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n                    var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                },\n                (error) => {\n                    console.log('ERROR writefile',error);\n                    let logo=this.state.logo;\n                    logo= null;\n                    this.setState({logo:logo,filename:null,uploading:false})\n\n                },\n                () => {\n                    // Upload completed successfully, now we can get the download URL\n                    // @ts-ignore\n                    uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\n                        let logo=this.state.logo;\n                        logo = downloadURL;\n                        this.setState({uploading: false, logo: logo});\n                        // @ts-ignore\n\n                    });\n                }\n            );\n        }catch(e){\n            console.log('ERROR catchblock',e);\n            let logo=this.state.logo;\n            logo = null;\n            this.setState({logo:logo,filename:null,uploading:false})\n        }\n    };\n\n    uploadBrandImageAdditional = async (e,fileInput,index,routeItemsIndex)=>{\n        console.log('TEST',index,routeItemsIndex);\n        let file;\n        try {\n            if(!fileInput) {\n                this.setState({filename: e.target.files[0].name, uploading: true});\n                const files = Array.from(e.target.files)\n                file = files[0];\n            }\n            else{\n                this.setState({filename: fileInput.name, uploading: true});\n                file = fileInput\n            }\n            const formData = new FormData();\n            let storageRef = firebase.storage().ref();\n            // @ts-ignore\n            let practiceImageRef = storageRef.child(`images/${this.state.code}/${routeItemsIndex}-${index}`);\n            // @ts-ignore\n            let uploadTask = practiceImageRef.put(file);\n            // @ts-ignore\n            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\n                (snapshot) => {\n                    // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n                    var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                },\n                (error) => {\n                    console.log('ERROR writefile',error);\n                    let imageUrlArray=this.state.routeItems[routeItemsIndex].imageURLArray;\n                    imageUrlArray[index] = null;\n                    const routeItems=this.state.routeItems;\n                    routeItems[routeItemsIndex].imageURLArray = imageUrlArray;\n                    this.setState({uploading: false, routeItems: routeItems});\n\n                },\n                () => {\n                    // Upload completed successfully, now we can get the download URL\n                    // @ts-ignore\n                    uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\n                        let imageUrlArray=this.state.routeItems[routeItemsIndex].imageURLArray;\n                        imageUrlArray[index] = downloadURL;\n                        const routeItems=this.state.routeItems;\n                        routeItems[routeItemsIndex].imageURLArray = imageUrlArray;\n                        this.setState({uploading: false, routeItems: routeItems});\n                        // @ts-ignore\n\n                    });\n                }\n            );\n        }catch(e){\n            console.log('ERROR catchblock',e);\n            let imageUrlArray=this.state.routeItems[routeItemsIndex].imageURLArray;\n            imageUrlArray[index] = null;\n            const routeItems=this.state.routeItems;\n            routeItems[routeItemsIndex].imageURLArray = imageUrlArray;\n            this.setState({uploading: false, routeItems: routeItems});\n        }\n    };\n    handleChangeComplete(color){\n        this.setState({backgroundType:color})\n    }\n    handleChangeCompleteClass(color){\n        this.setState({class:color})\n    }\n    handleChangeCompleteFont(color){\n        this.setState({font:color})\n    }\n     BGSelector = ()=>{\n        return(\n            <div style={{margin:40,marginBottom:0,borderRadius:12,width:400,backgroundColor:'#fff',display:'flex',justifyContent:'center',flexWrap:'wrap',alignContent:'center'}}>\n                <SwatchesPicker\n                    color={ this.state.backgroundType }\n                    onChangeComplete={ this.handleChangeComplete.bind(this) }\n                />\n\n            </div>\n        )\n    }\n     ClassSelector = ()=>{\n        return(\n            <div style={{margin:40,marginBottom:0,borderRadius:12,width:400,backgroundColor:'#fff',display:'flex',justifyContent:'center',flexWrap:'wrap',alignContent:'center'}}>\n                <SwatchesPicker\n                    color={ this.state.class }\n                    onChangeComplete={ this.handleChangeCompleteClass.bind(this) }\n                />\n\n\n            </div>\n        )\n    }\n     FontSelector = ()=>{\n        return(\n            <div style={{margin:40,marginBottom:0,borderRadius:12,width:400,backgroundColor:'#fff',display:'flex',justifyContent:'center',flexWrap:'wrap',alignContent:'center'}}>\n                <SwatchesPicker\n                    color={ this.state.font }\n                    onChangeComplete={ this.handleChangeCompleteFont.bind(this) }\n                />\n\n\n            </div>\n        )\n    }\n     fontSelector = ()=>{\n        return(\n            <div style={{margin:40,marginBottom:0,borderRadius:12,width:400,backgroundColor:'#fff',display:'flex',justifyContent:'center',flexWrap:'wrap',alignContent:'center'}}>\n                <SwatchesPicker\n                    color={ this.state.font }\n                    onChangeComplete={ this.handleChangeCompleteFont.bind(this) }\n                />\n\n\n            </div>\n        )\n    }\n    changeRouteNameInput(e){\n        this.setState({routeNameInput:e.target.value});\n\n    }\n    handleAddRoute(name){\n        this.state.routeItems.push({\n            name:name,\n            type:'standard',\n            href:`/pages/additional${this.state.routeItems?this.state.routeItems.length:0}`,\n            routeTag:`view_additional${this.state.routeItems?this.state.routeItems.length:0}_nav`,\n            secondaryHeader:name,\n            imageURLArray:[]});\n        let content=this.state.content;\n\n        this.setState({content:content,routeNameInput:''})\n\n    }\n    resetFrontPage(){\n         return this.setState({editModal:'frontPage'});\n    }\n    changeLinkName(e){\n         return this.setState({addLinkName:e.target.value})\n\n    }\n    changeLinkHref(e){\n         return this.setState({addLinkHref:e.target.value})\n\n    }\n    addLink(name,href){\n         let newArray=this.state.linkArray||[];\n         newArray.push({name:name,link:href});\n         return this.setState({linkArray:newArray});\n\n    }\n    renderEditModal(modalType){\n         let modalComponent=null;\n         switch(modalType){\n             case 'LinkPage':modalComponent=<div>\n                 <h3 style={{textAlign:'center'}}>Create a page that serves as your social media entry point!</h3>\n                 <p style={{textAlign:'center'}}>Your link tree will be easily accessible, both on your website and at webgun.ai/l/{this.state.code}</p>\n                 <div style={{display:'flex',justifyContent:'center',margin:100,maxHeight:500,overflowY:'auto'}}>\n                     <input type=\"text\" className=\"templateInputP\" style={{width:300,color:'#fff',border:'1px solid #fff'}} value={this.state.addLinkName} onChange={(e)=>{this.changeLinkName(e)}} placeholder={'Enter name for your link, ie. Facebook'} />\n                     <input type=\"text\" className=\"templateInputP\" style={{width:300,color:'#fff',border:'1px solid #fff'}} value={this.state.addLinkHref} onChange={(e)=>{this.changeLinkHref(e)}} placeholder={'Enter URL for your link, ie. https://www.mywebsite.com'} />\n                     <div style={{display:'flex',justifyContent:'space-around'}}><div onClick={()=>{\n                         this.addLink(this.state.addLinkName,this.state.addLinkHref)\n                     }} style={{marginBottom:10,marginLeft:10,width:200}} className=\"altButton whiteButton magOrange\">Add link</div>\n\n                         <br />\n\n                 </div>\n             </div>\n                 <div style={{display:'flex',justifyContent:'center',marginBottom:200}}><ul>{this.state.linkArray&&this.state.linkArray.map((link)=><li>\n                     <b>{link.name}</b> : {link.link}\n\n\n                 </li>)}</ul>\n                 </div>\n             </div>; break;\n             case 'Extra':modalComponent=<><h3 style={{textAlign:'center',fontWeight:300}}>Need another page? You can have up to 4 on this plan.</h3>\n                 <div style={{maxHeight:550,overflowY:'auto'}}>\n                     {this.state.routeItems.map((route,ix)=>{\n                         return(<>\n                             <div style={{height: '100%',position:'relative',margin:20}}>\n                                 <div style={{paddingBottom:0}}>\n                                     <div className=\"mainFontColor\" style={{display:'flex',justifyContent:'center'}}><div style={{width:'40%'}}>\n                                         <div style={{textAlign:'center',paddingTop:10,marginBottom:0}}>\n                                             <input type=\"text\" className=\"templateInputH1\" onChange={(e)=>{this.handleAdditionalFormChange(e,ix)}} value={this.state.routeItems[ix].secondaryHeader} name={'secondaryHeader'} placeholder={'New Page Title'} />\n                                         </div>\n                                     </div></div>\n                                     <div style={{display:'flex',justifyContent:'center',flexWrap:'wrap',padding:20}}>\n                                         <div style={{maxWidth:350,paddingTop:0}}>\n                                             {console.log(this.state.routeItems[ix])}\n                                             <FileImporter practiceLogoURL={logo} imageURL={this.state.routeItems[ix].imageURLArray[0]} index={0} routeItemsIndex={ix} display={true}\n                                                           uploadStatus={'success'} onChange={this.uploadBrandImageAdditional.bind(this)} filename={this.state.filename} loading={this.state.uploading} />\n\n                                         </div>\n                                         <div style={{maxWidth:600,margin:20}}><p className=\"mainFontColor\" style={{padding:0, whiteSpace:'break-spaces'}}>\n                                             <div>                                        <input type=\"text\" className=\"templateInputH1\" onChange={(e)=>{this.handleAdditionalFormChange(e,ix)}} value={this.state.routeItems[ix].secondaryHeading1} name={'secondaryHeading1'} placeholder={'New page heading'} />\n                                             </div>\n                                             <textarea style={{height:120}} className=\"templateInputPTextArea\" onChange={(e)=>{this.handleAdditionalFormChange(e,ix)}} value={this.state.routeItems[ix].secondaryContent1} name={'secondaryContent1'} placeholder={'New page content'}  />\n\n                                         </p>\n                                         </div>\n\n                                     </div>\n                                     <div className=\"mainFontColor\" style={{paddingTop:0}}>\n                                         <p style={{textAlign:'center'}}>\n                                             <input type=\"text\" style={{width:'50%'}} className=\"templateInputP\" onChange={(e)=>{this.handleAdditionalFormChange(e,ix)}} value={this.state.routeItems[ix].businessBlurbShort} name={'businessBlurbShort'} placeholder={'Brief content relating to contacting your business'} />\n                                         </p>\n                                         <div style={{display:'flex',justifyContent:'center'}}><div className=\"altButton\" style={{width:300,marginTop:20,textAlign:'center'}}>\n                                         </div>\n                                         </div>\n\n                                     </div>\n                                 </div>\n\n                             </div>\n                             <div style={{paddingTop:50}}>\n                                 <div>\n                                     <div style={{display: 'flex', justifyContent: 'center',paddingTop:40,flexWrap:'wrap',paddingBottom:40,marginBottom:30}}>\n                                         <div>\n\n                                             <FileImporter practiceLogoURL={logo} imageURL={this.state.routeItems[ix].imageURLArray[1]} index={1} routeItemsIndex={ix} display={true}\n                                                           uploadStatus={'success'} onChange={this.uploadBrandImageAdditional.bind(this)} filename={this.state.filename} loading={this.state.uploading} />\n\n                                         </div>\n                                         <div style={{width: '55%',minWidth:350,paddingLeft:15}}>\n                                             <div style={{marginRight:'5%',marginBottom:0,whiteSpace:'break-spaces'}}>\n                                                 <input type=\"text\" className=\"templateInputH1\" onChange={(e)=>{this.handleAdditionalFormChange(e,ix)}} value={this.state.routeItems[ix].p3Heading1} name={'p3Heading1'} />\n                                             </div>\n                                             <p style={{fontSize:18,paddingLeft:0,paddingTop:10,whiteSpace:'break-spaces'}}>\n                                                 <textarea style={{height:300}} className=\"templateInputP\" onChange={(e)=>{this.handleAdditionalFormChange(e,ix)}} value={this.state.routeItems[ix].p3Content1} name={'p3Content1'} />                                            </p>\n                                         </div>\n                                     </div>\n                                 </div>\n\n                             </div>\n\n                         </>)\n\n                     })}\n                 </div>\n                 <div style={{paddingTop:30,display:'inline-flex',flexWrap:'wrap',paddingLeft:100,paddingRight:100,\n                     alignContent:'flex-start',alignItems:'space-around',justifyContent:'center',width:'100%'}}>\n                         <input type=\"text\" className=\"templateInputP\" style={{width:300,marginBottom:30}} value={this.state.routeNameInput} onChange={(e)=>{this.changeRouteNameInput(e)}} placeholder={'Enter a name for the new page'} />\n                         <div style={{marginTop:0,marginBottom:20,width:180}} onClick={()=>{\n                             if(this.state.routeItems.length<3&&this.state.routeNameInput) {\n                                 this.handleAddRoute(this.state.routeNameInput)\n                             }\n                         }}  className={`altButton whiteButton magOrange ${this.state.routeItems.length<3?'':'NABUTTON'}`}>Add Route</div>\n                 </div>\n             </>;break;\n             case 'fifthPage' : modalComponent = <>\n                 <h3 style={{textAlign:'center',fontWeight:300}}>Additional Page</h3>\n                 <div style={{position:'relative',marginTop:0,marginBottom:0}}>\n                     <div  style={{paddingTop:10}}>\n                         <div >\n                             <div style={{display: 'flex', justifyContent: 'center',paddingTop:40,flexWrap:'wrap',paddingBottom:10,marginBottom:0}}>\n                                 <div>\n\n                                     <FileImporter practiceLogoURL={logo} imageURL={this.state.imageURLArray[3]} index={3} display={true} routeItemsIndex={null}\n                                                   uploadStatus={'success'} onChange={this.uploadBrandImage.bind(this)} filename={this.state.filename} loading={this.state.uploading} />\n\n                                 </div>\n                                 <div style={{width: '55%',minWidth:350,paddingLeft:15}}>\n                                     <h3 style={{marginRight:'5%',marginBottom:0,whiteSpace:'break-spaces'}}>\n                                         <input type=\"text\" className=\"templateInputH1\" onChange={this.handleContentFormChange} value={this.state.content.p3Heading1} name={'p3Heading1'} />\n                                     </h3>\n                                     <p style={{fontSize:18,paddingLeft:0,paddingTop:10,whiteSpace:'break-spaces',height:200}}>\n                                         <textarea style={{height:75}} className=\"templateInputP\" onChange={this.handleContentFormChange} value={this.state.content.p3Content1} name={'p3Content1'} />\n                                     </p>\n                                 </div>\n                             </div>\n                         </div>\n\n                     </div>\n                 </div>\n\n             </>;break;\n             case 'fourthPage': modalComponent = <>\n                 <h3 style={{textAlign:'center',fontWeight:300}}>Contact Page</h3>\n                 <div style={{marginTop:0}}>\n                     <div style={{marginTop:20,padding:20,margin:0}}>\n                         <div style={{display:'flex',justifyContent:'center'}}>\n                             <div style={{width:500}}>\n                                 <input style={{height:40}} type=\"text\" className=\"templateInputP\" onChange={this.handleContentFormChange} value={this.state.content.contactTitle} name={'contactTitle'} />\n                                 <p style={{marginBottom:10,paddingLeft:15,paddingTop:10,height:120,minWidth:300,textAlign:'center',whiteSpace:'break-spaces'}}>\n                                     <textarea style={{height:85}} className=\"templateInputP\" onChange={this.handleContentFormChange} value={this.state.content.contactBlurb} name={'contactBlurb'} />\n\n                                 </p>\n                                 <div style={{display:'flex',justifyContent:'center',flexWrap:'wrap'}}>\n                                     <div style={{padding:10}}><div style={{position:'relative'}}><i style={{position:'absolute',top:20,left:0,color:'#fff'}} className=\"material-icons\">mail</i> </div><div style={{marginLeft:40}}><b></b>                                    <input type=\"text\" className=\"templateInputP\" onChange={this.handleContentFormChange} value={this.state.content.contactEmail} name={'contactEmail'} />\n                                     </div></div>\n                                     <br />\n                                     <div style={{padding:10}}><div style={{position:'relative'}}><i style={{position:'absolute',top:20,left:10,color:'#fff'}} className=\"material-icons\">local_phone</i> </div><div style={{marginLeft:40}}><b></b>                                    <input type=\"text\" className=\"templateInputP\" onChange={this.handleContentFormChange} value={this.state.content.contactPhone} name={'contactPhone'} />\n                                     </div></div>\n                                     <br />\n\n                                 </div>\n                                 {this.state.mapsCenter&&<SimpleMap center={this.state.mapsCenter} name={this.state.businessName} />}\n                                 <div >\n                                 </div>\n                             </div>\n\n                         </div>\n\n                     </div>\n\n                 </div>\n             </>;break;\n             case 'thirdPage': modalComponent = <div style={{height:600}}><h3 style={{textAlign:'center',fontWeight:300}}>About Page</h3>\n\n\n                         <FileImporter routeItemsIndex={null}practiceLogoURL={logo} imageURL={this.state.imageURLArray[2]} index={2} display={true}\n                                       uploadStatus={'success'} onChange={this.uploadBrandImage.bind(this)} filename={this.state.filename} loading={this.state.uploading} />\n\n                     <div className=\"mainFontColor\" style={{display:'flex',justifyContent:'center',height:100}}><div style={{width:'40%'}}>\n                             <input type=\"text\" className=\"templateInputH1\" onChange={this.handleContentFormChange} value={this.state.content.secondaryHeader} name={'secondaryHeader'} />\n                     <div style={{flexWrap:'wrap'}}>\n                         <div style={{maxWidth:600,margin:20}}><p className=\"mainFontColor\" style={{padding:20, whiteSpace:'break-spaces'}}>\n                             <div>                                        <input type=\"text\" className=\"templateInputP\" onChange={this.handleContentFormChange} value={this.state.content.secondaryHeading1} name={'secondaryHeading1'} />\n                             </div>\n                             <textarea type=\"text\" style={{height:120}} className=\"templateInputP\" onChange={this.handleContentFormChange} value={this.state.content.secondaryContent1} name={'secondaryContent1'} />\n\n                         </p>\n                         </div>\n\n                     </div>\n                 </div>\n\n             </div></div>; break;\n             case 'secondPage':modalComponent = <> <h3 style={{textAlign:'center',fontWeight:300}}>Front Page Contents</h3> <div style={{ fontSize: 20,paddingBottom:0}}>\n\n                 <div className=\"container\">\n\n\n                     <div style={{display:'flex',justifyContent:'center'}}>\n                         <div style={{width:'20%'}}>\n                                 <FileImporter routeItemsIndex={null} practiceLogoURL={logo} imageURL={this.state.imageURLArray[1]} index={1} display={true}\n                                               uploadStatus={'success'} onChange={this.uploadBrandImage.bind(this)} filename={this.state.filename} loading={this.state.uploading} />\n\n                         </div>\n<div>\n    <textarea style={{width:'60%',height:90}} type=\"text\" className=\"templateInputP\" onChange={this.handleContentFormChange} value={this.state.content.supportingHeading} name={'supportingHeading'} />\n\n</div></div>\n                     <div style={{paddingTop:0,display:'flex',justifyContent:'center'}}>\n                         <input type=\"text\" className=\"templateInputP\" onChange={this.handleContentFormChange} value={this.state.content.secondaryContentTitle} name={'secondaryContentTitle'} />\n                         <textarea style={{height:110}} className=\"templateInputP\" onChange={this.handleContentFormChange} value={this.state.content.secondaryContent} name={'secondaryContent'} />\n                     </div>\n                 </div>\n             </div>\n                 <div>\n                     <div>\n                         <div style={{display: 'flex', justifyContent: 'center',paddingTop:20,flexWrap:'wrap',paddingBottom:30,marginBottom:20}}>\n\n                         </div>\n                     </div>\n                 </div>\n             </>; break;\n             case 'frontPage':modalComponent = <div style={{minHeight:750,height:'auto',marginTop:20}}>\n                 <h4 style={{marginTop:40,fontWeight:300,textAlign:'center'}}>{this.state.selectedBusinessInfo?'':'Find your Google business'}</h4>\n                <div style={{marginBottom:20}}><GoogleMyBusinessForm places={this.state.places} selectedBusinessInfo={this.state.selectedBusinessInfo} triggerAutoComplete={(data)=>{    // @ts-ignore\n                     const key = process.env.REACT_APP_MAPS_KEY;\n                     rootStore.pageStore.autoCompletePlacesAction(data, key).then((res)=>{\n                         console.log('...FACES',res,key);\n                         this.setState({places:res&&res.predictions})\n\n                     });\n\n                 }} getRelevantBusinessInfo={(placeInformation)=>{\n                     const key = process.env.REACT_APP_MAPS_KEY;\n                     rootStore.pageStore.getRelevantBusinessInfo(placeInformation,key).then((info)=>{\n                         console.log('...INFO',info);\n                         if(info) {\n                             let content = this.state.content;\n                             content.contactPhone = info.phoneNumber || '';\n                             content.contactAddress = info.address || '';\n                             content.contactTypes = info.types || [];\n                             content.location = info.location || {};\n                             content.businessName = info.name;\n                             let mapsCenter = {\n                                 lat: 59.95,\n                                 lng: 30.33\n                             };\n                             if (info.location) {\n                                 mapsCenter = {lat: info.location.latitude, lng: info.location.longitude}\n                                 content.mapsCenter=mapsCenter;\n                             }\n                             this.setState({\n                                 selectedBusinessInfo: info,\n                                 content: content,\n                                 mapsCenter,\n                                 businessName: info.name\n                             })\n                         }\n                         else{\n                             this.setState({selectedBusinessInfo:null})\n                         }\n\n                     });\n                 }} />\n                </div>\n                 <div style={{position:'absolute',zIndex:8999,width:'90%'}}>\n                     <div style={{position:'absolute',right:'28%'}}>\n                         <div style={{paddingTop:0,marginBottom:0,display:'flex',justifyContent:'flex-start'}}>\n                             <FileImporter isSmall={true} routeItemsIndex={null} practiceLogoURL={logo} imageURL={this.state.logo} index={0} display={true}\n                                           uploadStatus={'success'} onChange={this.uploadLogoImage.bind(this)} filename={this.state.filename} loading={this.state.uploading} />\n\n                         </div>\n                         <p style={{color:'#fff',textAlign:'left',paddingLeft:100}}>Add a branding logo</p>\n                     </div>\n\n                     <div style={{paddingTop:0,marginBottom:0,display:'flex',justifyContent:'center',width:'70%'}}>\n                         <FileImporter routeItemsIndex={null} practiceLogoURL={logo} imageURL={this.state.imageURLArray[0]} index={0} display={true}\n                                       uploadStatus={'success'} onChange={this.uploadBrandImage.bind(this)} filename={this.state.filename} loading={this.state.uploading} />\n\n                     </div>\n                     <p style={{color:'#fff',textAlign:'center',width:'70%'}}>Add a banner image</p>\n                     <div style={{display:'flex',justifyContent:'center',paddingBottom:0}}>\n                         <div style={{padding:30,minWidth:300,maxWidth:630,width:'100%',paddingTop:0,paddingLeft:10,paddingRight:0,textAlign:'center'}}>\n                             <input type=\"text\" className=\"templateInputH1\" onChange={this.handleContentFormChange} value={this.state.content.titleContent} name={'titleContent'} />\n                             <p style={{fontSize:20,marginLeft:0}} className=\"mb-4\">\n                                 <input type=\"text\" className=\"templateInputP\" onChange={this.handleContentFormChange} value={this.state.content.titleBlurb} name={'titleBlurb'} />\n                             </p>\n                             <br />\n                             <div style={{display:'flex',justifyContent:'center'}}>\n                             <input type=\"text\" style={{width:'20%'}} className=\"templateInputP\" onChange={this.handleContentFormChange} placeholder={\"Call to Action 1\"} value={this.state.content.mainButtonTitle} name={'mainButtonTitle'} />\n                             <input type=\"text\" style={{width:'60%'}} className=\"templateInputP\" onChange={this.handleContentFormChange} value={this.state.content.mainButtonLink} name={'mainButtonLink'} />\n                             </div>\n\n                         </div>\n                     </div>\n                 </div>\n             </div>\n         }\n        let buttonContent = '';\n        switch(this.state.editModal){\n            case 'frontPage': buttonContent = 'Next';break;\n            case 'secondPage': buttonContent = 'Next';break;\n            case 'thirdPage': buttonContent='Next';break;\n            case 'fourthPage': buttonContent='Next';break;\n            case 'fifthPage': buttonContent='Save and Show me';break;\n            case 'Extra':buttonContent='Save and Show me'; break;\n            case 'LinkPage':buttonContent='Save and Show me'; break;\n        }\n         return(<>\n             <div style={{position:'relative',zIndex:999999,display:'flex',justifyContent:'center',padding:60}}>\n                 <div className={`templateMaker`} style={{width:'100%',margin:0,minHeight:'90.5vh',paddingBottom:100,position:'absolute',top:0,padding:60,paddingLeft:20,backgroundColor:'#ff2019',color:'#fff'}}>\n                     <div style={{position:'relative',zIndex:9999}}>\n                         <div style={{display:'flex',flexDirection:'column',position:'absolute',border:'1px solid #fff',padding:10,borderRadius:0,borderLeft:'none',left:-20}}>\n                             <div onClick={()=>{\n                                 this.setState({editModal:'frontPage'})\n                             }} className={`${this.state.editModal==='frontPage'?'navEditActive':''} navEdit`}>Setup</div>\n                             <div onClick={()=>{\n                                 this.setState({editModal:'secondPage'})\n                             }} className={`${this.state.editModal==='secondPage'?'navEditActive':''} navEdit`}>Front Page</div>\n                             <div onClick={()=>{\n                                 this.setState({editModal:'thirdPage'})\n                             }} className={`${this.state.editModal==='thirdPage'?'navEditActive':''} navEdit`}>About </div>\n                             <div onClick={()=>{\n                                 this.setState({editModal:'fourthPage'})\n                             }} className={`${this.state.editModal==='fourthPage'?'navEditActive':''} navEdit`}>Contact </div>\n                             <div onClick={()=>{\n                                 this.setState({editModal:'fifthPage'})\n                             }} className={`${this.state.editModal==='fifthPage'?'navEditActive':''} navEdit`}>Additional </div>\n                             <div onClick={()=>{\n                                 this.setState({editModal:'LinkPage'})\n                             }} className={`${this.state.editModal==='LinkPage'?'navEditActive':''} navEdit`}>Links </div>\n                             <div onClick={()=>{\n                                 this.setState({editModal:'Extra'})\n                             }} className={`${this.state.editModal==='Extra'?'navEditActive':''} navEdit`}>Routes </div>\n                         </div>\n\n                     </div>\n                     <div style={{paddingLeft:90}}>\n                         {this.state.editModal==='frontPage'&&<>\n\n                         <div style={{display:'flex',justifyContent:'center'}}>\n                             <h4 style={{fontWeight:300,textAlign:'center'}}>Choose a domain name</h4>\n\n                         </div>\n                         <div style={{display:'flex',justifyContent:'center'}}>\n                             <input className=\"templateInputP\" style={{width:430}} type=\"text\" placeholder={'Your chosen domain name'} value={this.state.code} onChange={(e)=>this.setState({code:e.target.value})} /><span style={{paddingTop:15,fontSize:22,fontWeight:600,color:'#fff'}}>.co.nz</span>\n                         </div></>}\n                     {modalComponent}\n                     </div>\n\n                 <div style={{display:'flex',justifyContent:'center'}}>\n                     {this.state.editModal==='fifthPage'&&<div style={{display:'flex',justifyContent:'center',marginRight:20}} onClick={()=>{this.setState({editModal:'Extra'})}} className=\"altButton whiteButton magOrange\">Add another page</div>}\n                     {this.state.editModal==='fifthPage'&&<div style={{display:'flex',justifyContent:'center',marginRight:20}} onClick={()=>{this.setState({editModal:'LinkPage'})}} className=\"altButton whiteButton magOrange newFeature\">Create Link Tree</div>}\n                     <div style={{display:'flex',justifyContent:'center',marginLeft:20}} onClick={()=>{\n                     let nextPage = '';\n                     switch(this.state.editModal){\n                         case 'frontPage': nextPage = 'secondPage';break;\n                         case 'secondPage': nextPage = 'thirdPage';break;\n                         case 'thirdPage': nextPage='fourthPage';break;\n                         case 'fourthPage': nextPage='fifthPage';break;\n                     }\n                     if(this.state.editModal==='fifthPage'||this.state.editModal==='Extra'||this.state.editModal==='LinkPage'){\n                         let splitCode = this.state.code||this.state.plainCode.toString();\n                         splitCode= splitCode.replace(/\\s+/g, '-').toLowerCase();\n                         firebase.analytics().logEvent('template_init_mm',{code:splitCode});\n                         rootStore.pageStore.setCode(splitCode||this.state.plainCode);\n                         firebase.firestore().collection(\"templates\").get().then((data)=>{\n                             console.log('data:',data.docs[0].data());\n                         });\n                         let content=this.state.content;\n                         content.imageURLArray=this.state.imageURLArray;\n                         content.routeItems=this.state.routeItems;\n                         content.routeItemsDefault=this.state.routeItemsDefault;\n                         content.logo=this.state.logo;\n                         content.templateType=this.state.templateSelected||'dm';\n                         content.linkArray=this.state.linkArray;\n                         content.businessInfo=this.state.selectedBusinessInfo||{name:''};\n                         content.backgroundType=this.state.backgroundType.hex;\n                         content.class=this.state.class.hex;\n                         content.font=this.state.font.hex;\n                         cookie.set('templateType',this.state.templateSelected)\n                         console.log('SET:',splitCode,this.state.plainCode,':',content);\n                         if(rootStore.pageStore.userId){\n                             firebase.firestore().collection(\"users\").doc(`${rootStore.pageStore.userId}`).set({templateCode:`t-${splitCode||this.state.plainCode}`})\n                                 .then(() => {\n                                     console.log(\"Document successfully written for\",rootStore.pageStore.userId,`t-${splitCode||this.state.plainCode}`);\n                                 })\n                         }\n                         firebase.firestore().collection(\"templates\").doc(`t-${splitCode||this.state.plainCode}`).set({content:content,author:rootStore.pageStore.userId||'Guest'})\n                             .then(() => {\n                                 console.log(\"Document successfully written!\");\n                                 window.location.href='/pages'\n                                 if(this.state.linkArray) {\n                                     firebase.firestore().collection('links').doc(splitCode).set({links: this.state.linkArray}).then(() => {\n                                         console.log('Wrote link array', this.state.linkArray, splitCode)\n                                     });\n                                 }\n                             })\n                             .catch((error) => {\n                                 console.error(\"Error writing document: \", error,content,this.state.content);\n                             });\n                         console.log('something may have happened');\n\n                     }\n                     this.setState({editModal:nextPage})}} className=\"altButton whiteButton magOrange\">{buttonContent}</div>\n                     {cookie.get('wasPurchased')&&<div onClick={()=>{\n                         if(this.state.loadState==='success'){\n                             return window.location.href='/pages'\n                         }\n                         if(this.state.loadState==='loading'){\n                             return\n                         }\n                         this.setState({loadState:'loading'})\n                         let content=this.state.content;\n                         content.imageURLArray=this.state.imageURLArray;\n                         content.routeItems=this.state.routeItems;\n                         content.routeItemsDefault=this.state.routeItemsDefault;\n                         content.logo=this.state.logo;\n                         content.templateType=this.state.templateSelected;\n                         console.log('SET:',cookie.get('wasPurchased'),this.state.plainCode,':',content);\n                         firebase.firestore().collection(\"templates\").doc(`t-${cookie.get('wasPurchased')}`).set({content:content})\n                             .then(() => {\n                                 this.setState({loadState:'success'})\n                                 console.log(\"Document successfully written!\");\n                             })\n                             .catch((error) => {\n                                 this.setState({loadState:null});\n                                 console.error(\"Error writing document: \", error,content,this.state.content);\n                             });\n                         rootStore.pageStore.createWebsite(cookie.get('wasPurchased'),this.state.content);\n                     }} className={`altButton whiteButton magOrange ${this.state.loadState==='loading'&&'disabledButton'}`} style={{marginLeft:10}}>{this.state.loadState==='success'?'Preview now':'Update Live Site'}</div>}\n                 </div>\n                 </div>\n             </div>\n         </>)\n\n    }\n    render(){\n        console.log('firebase:',firebase.apps.length,this.state.backgroundType,this.state.class,'/?///');\n        return <div>\n            <NavBar userEmail={rootStore.pageStore.userEmail} resetFrontPage={()=>{this.resetFrontPage()}} classSelectorActive={this.state.classSelectorActive} bgSelectorActive={this.state.bgSelectorActive} renderClassSelector={()=>{this.renderClassSelector()}} renderBGSelector={()=>{this.renderBGSelector()}} switchBackgroundType={()=>{this.switchBackgroundType()}} backgroundType={'bg20'}/>\n\n            <div style={{position:'absolute',zIndex:9999,right:0}}>\n                {this.state.bgSelectorActive&&this.BGSelector()}\n                {this.state.classSelectorActive&&this.ClassSelector()}\n                {this.state.fontSelectorActive&&this.FontSelector()}\n            </div>\n            {this.state.colorSelectorModal&&<div style={{position:'relative',zIndex:9998,display:'flex',justifyContent:'center'}}><div className={'templateMaker'} style={{width:'100%',margin:0,height:1200,position:'absolute',top:0,padding:60,backgroundColor:'#ff2019',color:'#fff'}}>\n                {this.state.continueModal?<div className=\"fadedshort\">\n                    <h4 style={{textAlign:'center',fontWeight:300}}>Select your background and primary color theme by clicking on the element you want to change.</h4>\n                    <div style={{display:'flex',justifyContent:'center'}}>\n                        <div>\n                            <div onClick={()=>{this.renderBGSelector(true)}} style={{cursor:'pointer',margin:30,padding:20,backgroundColor:this.state.backgroundType.hex}}>\n                                <div style={{width:250,height:200,display:'flex',justifyContent:'center',borderRadius:4}}>\n                                    <div onClick={(e)=>{e.stopPropagation();this.renderClassSelector(true)}} style={{cursor:'pointer',width:200,height:100,padding:25,marginTop:40,borderRadius:4,backgroundColor:this.state.class.hex}}>\n                                        <p onClick={(e)=>{e.stopPropagation();this.renderFontSelector(true)}} style={{fontSize:22,color:this.state.font.hex,fontWeight:700,cursor:'pointer'}}>Example text</p>\n\n                                    </div>\n\n                                </div>\n\n                            </div>\n                            <p style={{textAlign:'center'}}>Ready to move on?</p>\n                            <div style={{display:'flex',justifyContent:'center',marginTop:10}}>\n                                <div onClick={()=>{this.setState({colorSelectorModal:false,editModal:'frontPage'})}} className=\"altButton whiteButton magOrange\">Let's go!</div>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>:<><h3 style={{textAlign:'center',fontSize:42}}>Create a website and have it delivered in minutes!</h3>\n                <p style={{textAlign:'center'}}>Draft up a website here and preview it immediately! If you like what you see, you can checkout immediately after previewing. <br/>\n                Every marketing magnet subscription includes scope for additional development and polishing, so you don't sweat the small stuff! </p>\n                <div style={{textAlign:'center',marginTop:40,marginBottom:50,fontWeight:300}}>\n                    {rootStore.pageStore.userEmail? <h3>Select a template to get started</h3>:\n                        <div style={{display:'flex',justifyContent:'space-evenly'}}>\n                            <GoogleButton signUpHandler={signUpUsingSocial.bind(this)} />\n                            <FacebookButton signUpHandler={()=>{}} />\n\n                        </div>}\n                </div>\n                    {rootStore.pageStore.userEmail?<div className=\"fadedshort\" style={{display:'flex',justifyContent:'space-evenly',marginTop:40}}>\n                        <div style={{position:'relative',cursor:'pointer'}} onClick={()=>{this.setState({templateSelected:'dm',continueModal:true})}}><div style={{top:-36,position:'absolute'}}>\n                            <p style={{fontSize:24}}>Digital Marketing</p>\n                        </div><img className=\"templateClass\" style={{borderRadius:4,opacity:0.7}} width={400} src={mm1} /></div>\n                        <div style={{position:'relative',cursor:'pointer'}}  onClick={()=>{this.setState({templateSelected:'pm',continueModal:true})}}><div style={{top:-36,position:'absolute'}}>\n                            <p style={{fontSize:24}}>E-commerce and Services</p>\n                        </div><img className=\"templateClass\" style={{borderRadius:4,opacity:0.7}} height={700} src={property} /></div>\n\n                    </div>:null}\n               <div style={{display:'flex',justifyContent:'center',marginTop:30}}></div></>}\n\n            </div></div>}\n            {this.state.editModal&&this.renderEditModal(this.state.editModal)}\n            <div style={{height: '100%',position:'relative',opacity:this.state.editModal||this.state.colorSelectorModal?0.1:1,paddingBottom:100}}>\n                <div>\n                    <div>\n                        <div className=\"myDIV\">\n                        </div>\n\n                    </div>\n\n                </div>\n            </div>\n        </div>\n\n    }\n}\n\nexport default TemplateCreator;"]},"metadata":{},"sourceType":"module"}