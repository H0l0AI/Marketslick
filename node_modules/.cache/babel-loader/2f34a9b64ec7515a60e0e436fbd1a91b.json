{"ast":null,"code":"import _classCallCheck from\"/Users/aider/WebstormProjects/Marketslick/Marketslick/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/aider/WebstormProjects/Marketslick/Marketslick/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/aider/WebstormProjects/Marketslick/Marketslick/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/aider/WebstormProjects/Marketslick/Marketslick/node_modules/@babel/runtime/helpers/esm/createSuper.js\";var _dec,_class;import{inject,observer}from\"mobx-react\";import React from\"react\";import{rootStore}from'../stores/Store';import _ from'lodash';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GoogleMyBusinessForm=(_dec=inject('rootStore'),_dec(_class=observer(_class=/*#__PURE__*/function(_React$Component){_inherits(GoogleMyBusinessForm,_React$Component);var _super=_createSuper(GoogleMyBusinessForm);function GoogleMyBusinessForm(props){var _this;_classCallCheck(this,GoogleMyBusinessForm);_this=_super.call(this,props);_this.handleUserInfoFormChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;if(name==='address'){_this._debouncedSearch();_this.setState({userHasClickedOption:false});}_this.setState(function(prevState){var userInfoFormFields=prevState.userInfoFormFields;userInfoFormFields[name]=value;return{userInfoFormFields:userInfoFormFields};});};_this.contactRef=/*#__PURE__*/React.createRef();_this._debouncedSearch=_.debounce(function(){return _this.props.triggerAutoComplete(_this.state.userInfoFormFields.address);},1000);_this.state={userHasClickedOption:false,userInfoFormFields:{businessName:'',address:'',numAccountants:'',numClients:'',placeInformation:{}}};return _this;}_createClass(GoogleMyBusinessForm,[{key:\"selectPlace\",value:function selectPlace(business){this.setState(function(prevState){var userInfoFormFields=prevState.userInfoFormFields,userHasClickedOption=prevState.userHasClickedOption;console.log('PLACE INFO:',business);userInfoFormFields.placeInformation=business;userInfoFormFields.address=business.description;userHasClickedOption=true;return{userInfoFormFields:userInfoFormFields,userHasClickedOption:userHasClickedOption};});this.props.getRelevantBusinessInfo(business);}},{key:\"renderAutoCompletePredictions\",value:function renderAutoCompletePredictions(places){var _this2=this;var placesStore=rootStore.pageStore.autoCompletePlaces;console.log('...dot:',places,placesStore);if(places){return places.map(function(business){return/*#__PURE__*/_jsx(\"div\",{className:\"placeOption\",onClick:function onClick(){_this2.selectPlace(business);},children:/*#__PURE__*/_jsx(\"p\",{children:business.description&&business.description.replace(/(.{130})..+/,\"$1...\")})});});}}},{key:\"renderTypes\",value:function renderTypes(types){return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-evenly'},children:types.map(function(type){return/*#__PURE__*/_jsx(\"div\",{style:{fontSize:12,fontWeight:700,color:'#4260ea',backgroundColor:'#fff',borderRadius:12,padding:5,margin:5},children:type});})});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"div\",{style:{zIndex:999,width:'40%',maxHeight:230,backgroundColor:'transparent',borderRadius:12,overflowY:'auto',overflowX:'hidden'},children:!this.state.userHasClickedOption?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{style:{width:'100%'},type:\"text\",name:\"address\",value:this.state.userInfoFormFields.address,placeholder:\"Your business address\",className:\"templateInputH1\",onChange:this.handleUserInfoFormChange}),/*#__PURE__*/_jsx(\"div\",{className:\"scrollbar\",style:{maxHeight:300},children:this.renderAutoCompletePredictions(this.props.places)})]}):/*#__PURE__*/_jsx(\"div\",{children:this.props.selectedBusinessInfo?/*#__PURE__*/_jsxs(\"div\",{className:\"fadedshort\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{padding:10},children:this.props.selectedBusinessInfo.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:'100%',overflowX:'auto'},children:this.renderTypes(this.props.selectedBusinessInfo.types)}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:10},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"i\",{style:{position:'absolute',top:0,left:0},className:\"material-icons\",children:\"local_phone\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:40},children:[/*#__PURE__*/_jsx(\"b\",{}),this.props.selectedBusinessInfo.phoneNumber]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:10},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"i\",{style:{position:'absolute',top:0,left:0},className:\"material-icons\",children:\"map\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:40},children:[/*#__PURE__*/_jsx(\"b\",{}),this.props.selectedBusinessInfo.address]})]})]}):null})})});}}]);return GoogleMyBusinessForm;}(React.Component))||_class)||_class);export default GoogleMyBusinessForm;","map":{"version":3,"sources":["/Users/aider/WebstormProjects/Marketslick/Marketslick/src/pages/GoogleMyBusinessForm.js"],"names":["inject","observer","React","rootStore","_","GoogleMyBusinessForm","props","handleUserInfoFormChange","event","target","name","value","_debouncedSearch","setState","userHasClickedOption","prevState","userInfoFormFields","contactRef","createRef","debounce","triggerAutoComplete","state","address","businessName","numAccountants","numClients","placeInformation","business","console","log","description","getRelevantBusinessInfo","places","placesStore","pageStore","autoCompletePlaces","map","selectPlace","replace","types","display","justifyContent","type","fontSize","fontWeight","color","backgroundColor","borderRadius","padding","margin","zIndex","width","maxHeight","overflowY","overflowX","renderAutoCompletePredictions","selectedBusinessInfo","maxWidth","renderTypes","position","top","left","marginLeft","phoneNumber","Component"],"mappings":"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","sourcesContent":["import {inject, observer} from \"mobx-react\";\nimport React from \"react\";\nimport {rootStore} from '../stores/Store';\nimport _ from 'lodash';\n\n@inject('rootStore') @observer  class GoogleMyBusinessForm extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.contactRef = React.createRef()\n        this._debouncedSearch = _.debounce(\n            () => this.props.triggerAutoComplete(this.state.userInfoFormFields.address),\n            1000,\n        );\n        this.state = {\n            userHasClickedOption:false,\n            userInfoFormFields: { businessName: '', address: '',numAccountants:'',numClients:'', placeInformation: {}},\n        }\n    }\n    handleUserInfoFormChange = (event) => {\n        const { name, value } = event.target;\n        if (name === 'address') {\n            this._debouncedSearch();\n            this.setState({ userHasClickedOption: false });\n        }\n        this.setState((prevState) => {\n            const { userInfoFormFields } = prevState;\n            userInfoFormFields[name] = value;\n            return { userInfoFormFields };\n        });\n    };\n    selectPlace(business) {\n        this.setState((prevState) => {\n            let { userInfoFormFields, userHasClickedOption } = prevState;\n            console.log('PLACE INFO:',business);\n            userInfoFormFields.placeInformation = business;\n            userInfoFormFields.address = business.description;\n            userHasClickedOption = true;\n            return { userInfoFormFields, userHasClickedOption };\n        });\n        this.props.getRelevantBusinessInfo(business)\n    }\n\n    renderAutoCompletePredictions(places) {\n        const placesStore=rootStore.pageStore.autoCompletePlaces;\n        console.log('...dot:',places,placesStore);\n        if(places) {\n            return places.map((business) => (\n                <div className=\"placeOption\" onClick={() => {\n                    this.selectPlace(business);\n                }}>\n                    <p>{business.description && business.description.replace(/(.{130})..+/, \"$1...\")}</p>\n                </div>\n            ));\n        }\n    }\n    renderTypes(types){\n        return(<div style={{display:'flex',justifyContent:'space-evenly'}}>\n            { types.map((type)=>{\n                return(<div style={{fontSize:12,fontWeight:700,color:'#4260ea',backgroundColor:'#fff',borderRadius:12,padding:5,margin:5}}>{type}</div>)\n\n            })}\n        </div>)\n\n\n    }\n    render(){\n        return(<div style={{display:'flex',justifyContent:'center'}}>\n                <div style={{zIndex:999,width:'40%',maxHeight:230,backgroundColor:'transparent',borderRadius:12,overflowY:'auto',overflowX:'hidden'}}>\n                    {(!this.state.userHasClickedOption) ?<div>\n                        <input\n                            style={{ width: '100%' }}\n                            type=\"text\"\n                            name=\"address\"\n                            value={this.state.userInfoFormFields.address}\n                            placeholder=\"Your business address\"\n                            className=\"templateInputH1\"\n                            onChange={this.handleUserInfoFormChange}\n                        />\n                        <div\n                        className=\"scrollbar\"\n                        style={{\n                            maxHeight: 300,\n                        }}\n                    >\n                            {this.renderAutoCompletePredictions(this.props.places)}</div></div> : <div>\n                        {this.props.selectedBusinessInfo?<div className=\"fadedshort\">\n\n\n                        <h3 style={{padding:10}}>{this.props.selectedBusinessInfo.name}</h3><br />\n                            <div style={{maxWidth:'100%',overflowX:'auto'}}>{this.renderTypes(this.props.selectedBusinessInfo.types)}</div>\n                            <div style={{padding:10}}><div style={{position:'relative'}}><i style={{position:'absolute',top:0,left:0}} className=\"material-icons\">local_phone</i> </div><div style={{marginLeft:40}}><b></b>{this.props.selectedBusinessInfo.phoneNumber}</div></div>\n                            <div style={{padding:10}}><div style={{position:'relative'}}><i style={{position:'absolute',top:0,left:0}} className=\"material-icons\">map</i> </div><div style={{marginLeft:40}}><b></b>{this.props.selectedBusinessInfo.address}</div></div>\n                        </div>:null}\n            </div>}\n                </div>\n            </div>\n        )\n    }\n}\nexport default GoogleMyBusinessForm;\n"]},"metadata":{},"sourceType":"module"}