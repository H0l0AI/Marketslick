{"ast":null,"code":"import _asyncToGenerator from\"/Users/aider/WebstormProjects/Marketslick/Marketslick/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/aider/WebstormProjects/Marketslick/Marketslick/node_modules/@babel/runtime/regenerator/index.js\";import axios from'axios';import firebase from\"firebase/compat\";import cookie from\"js-cookie\";import{rootStore}from'./Store';var _require=require('uuid'),uuidv4=_require.v4;export function getTemplatesWithId(_x){return _getTemplatesWithId.apply(this,arguments);}function _getTemplatesWithId(){_getTemplatesWithId=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log('with id',id);return _context2.abrupt(\"return\",firebase.firestore().collection(\"templates\").get().then(function(data){console.log('data',data,'id',rootStore.pageStore.userId);if(data){var dataToLoad=data.docs.find(function(doc){return doc.data().author===rootStore.pageStore.userId;});if(dataToLoad){console.log(dataToLoad.data(),'LOAD with ID',id);rootStore.pageStore.setActiveTemplate(dataToLoad.data());return dataToLoad.data();}}}).catch(function(e){console.log('e',e);}));case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _getTemplatesWithId.apply(this,arguments);}export function initializeAuthentication(){initializeFirebase().then(function(res){console.log('FB, initialized.');return firebase.auth().onAuthStateChanged(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userAuth){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!userAuth){_context.next=5;break;}console.log('on auth state:',userAuth,'...UID',userAuth.uid);// todo abstract loading screen from auth initialization\nrootStore.pageStore.setUser(userAuth);if(!(cookie.get('signInType')==='google')){_context.next=5;break;}return _context.abrupt(\"return\",firebase.firestore().collection(\"users\").doc(\"\".concat(userAuth.uid)).set({email:userAuth.email}).then(function(r){cookie.remove('signInType');console.log(\"Google Document successfully written!\",r);}).catch(function(e){cookie.remove('userHasLoggedIn');}));case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref.apply(this,arguments);};}());});}export function initializeFirebase(){return new Promise(function(resolve){if(firebase.auth().currentUser){resolve(true);}else{var unsubscribe=firebase.auth().onAuthStateChanged(function(user){unsubscribe();if(user){resolve(true);}else{resolve(false);}});}}).catch(function(e){console.log('init error',e);// throw new error\n});}export function signUpUsingEmail(_x3){return _signUpUsingEmail.apply(this,arguments);}function _signUpUsingEmail(){_signUpUsingEmail=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(fields){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt(\"return\",firebase.auth().createUserWithEmailAndPassword(fields.email,fields.password).catch(function(error){console.log('...',error);}).then(function(authResult){// @ts-ignore\nfirebase.firestore().collection(\"users\").doc(\"\".concat(uuidv4())).set({email:fields.email}).then(function(r){console.log(\"Document successfully written!\",r);}).catch(function(e){cookie.remove('userHasLoggedIn');});}));case 1:case\"end\":return _context3.stop();}}},_callee3);}));return _signUpUsingEmail.apply(this,arguments);}export function signUpUsingSocial(_x4){return _signUpUsingSocial.apply(this,arguments);}function _signUpUsingSocial(){_signUpUsingSocial=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(type){var provider;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:cookie.set('signInType','google');provider=new firebase.auth.GoogleAuthProvider();provider.setCustomParameters({prompt:'select_account'});return _context4.abrupt(\"return\",firebase.auth().signInWithRedirect(provider));case 4:case\"end\":return _context4.stop();}}},_callee4);}));return _signUpUsingSocial.apply(this,arguments);}export function signUpUsingFacebook(_x5){return _signUpUsingFacebook.apply(this,arguments);}function _signUpUsingFacebook(){_signUpUsingFacebook=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(type){var provider;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:provider=new firebase.auth.FacebookAuthProvider();provider.setCustomParameters({auth_type:'https'});return _context5.abrupt(\"return\",firebase.auth().signInWithRedirect(provider));case 3:case\"end\":return _context5.stop();}}},_callee5);}));return _signUpUsingFacebook.apply(this,arguments);}export function handleSignOut(_x6){return _handleSignOut.apply(this,arguments);}function _handleSignOut(){_handleSignOut=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(noReload){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:firebase.auth().signOut().then(function(){cookie.remove('userHasLoggedIn');if(noReload){return true;}setTimeout(function(){window.location.reload();},1000);});case 1:case\"end\":return _context6.stop();}}},_callee6);}));return _handleSignOut.apply(this,arguments);}export function createWebsite(code,content){var url=\"https://api.github.com/repos/H0l0AI/Marketslick/contents/src/contents.json\";console.log('gonna BTOA it',unescape(encodeURIComponent(JSON.stringify(content))));var body=btoa(unescape(encodeURIComponent(JSON.stringify(content))));var createBranchURL='https://api.github.com/repos/H0l0AI/Marketslick/git/refs';var headers={'Authorization':\"token \".concat(process.env.REACT_APP_DEATHSTAR).concat(process.env.REACT_APP_JEDI).concat(process.env.REACT_APP_STORMTROOPER),'Content-Type':'application/x-www-form-urlencoded','Accept':'application/vnd.github.v3+json'};var getBranchHeadsURL='https://api.github.com/repos/H0l0AI/Marketslick/git/refs/heads';return axios({method:'get',url:getBranchHeadsURL,headers:headers}).then(function(res){{console.log('GITHUB= res,',res.data,res.data[res.data.length-1]);var headSha=res.data.find(function(ref){return ref.ref===\"refs/heads/main\";}).object.sha;var branchExists=res.data.find(function(reference){return reference.ref.slice(11)===code;});if(branchExists){console.log('THIS BRANCH EXISTS',branchExists,code);url=url+\"?ref=\".concat(code);return axios({method:'get',url:url,headers:headers}).then(function(res){console.log('GITHUB RES GET:',res,code);var sha=res.data.sha;return axios({method:'delete',data:{message:\"Automation delete\",content:body,sha:sha,branch:\"\".concat(code)},url:url,headers:headers}).then(function(commitResponse){console.log('LETS FUCKING GO DELETED',commitResponse);return axios({method:'put',data:{message:\"Automation sync\",content:body,sha:sha,branch:\"\".concat(code)},url:url,headers:headers}).then(function(res){console.log('ADDED THE NEW SHIT',res);}).catch(function(e){console.log('put not work',e);});}).catch(function(e){console.log('axios GET ERROR 4',e);}).catch(function(e){console.log('axs get error 3',e);});});}console.log('HEADSHA',headSha);var createBranchBody={\"ref\":\"refs/heads/\".concat(code),\"sha\":headSha};return axios({method:'post',data:createBranchBody,url:createBranchURL,headers:headers}).then(function(createBranchRes){console.log('putRes DID HE FIRE IT OFF?',createBranchRes,'DO I NEED CREATESHA EARLIER');return axios({method:'get',url:url,headers:headers}).then(function(res){console.log('GITHUB RES GET:',res);var sha=res.data.sha;return axios({method:'put',data:{message:\"Automation sync\",content:body,sha:sha,branch:\"\".concat(code)},url:url,headers:headers}).then(function(commitResponse){console.log('LETS FUCKING GO',commitResponse);}).catch(function(e){console.log('axios GET ERROR 4',e);}).catch(function(e){console.log('axs get error 3',e);});}).catch(function(e){console.log('axios GET ERROR 2',e);}).catch(function(e){console.log('axs get error 1',e);});}).catch(function(e){console.log('couldnt create',e);});}});};export function getRelevantBusinessInfo(_x7,_x8){return _getRelevantBusinessInfo.apply(this,arguments);}function _getRelevantBusinessInfo(){_getRelevantBusinessInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(placeInformation,key){var PROXY_URL,locationData,url,res,countryCode,area;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:PROXY_URL=process.env.REACT_APP_PROXY_URL;_context7.prev=1;locationData={location:{latitude:'',longitude:''},timeZoneId:'',address:'',name:'',area:'Auckland',countryCode:'NZ',phoneNumber:'',types:[],utcOffset:'',website:'',rawOffset:'',dstOffset:'',businessClass:'management',// creator role for practice\ncreatorRole:'practice_admin'};// todo get geolocation ...address external\nurl=\"https://maps.googleapis.com/maps/api/place/details/json?place_id=\".concat(encodeURIComponent(placeInformation.place_id),\"&key=\").concat(encodeURIComponent(key));_context7.next=6;return axios({method:'get',url:PROXY_URL+url,headers:{'X-Requested-With':'XMLHttpRequest'}});case 6:res=_context7.sent;countryCode=res.data.result.address_components.find(function(component){return component.types.includes('country');});if(countryCode.short_name==='NZ'||countryCode.short_name!=='AU'){area=res.data.result.address_components.find(function(component){return component.types.includes('administrative_area_level_1');});}else{area=res.data.result.address_components.find(function(component){return component.types.includes('administrative_area_level_2');});if(!area){area=res.data.result.address_components.find(function(component){return component.types.includes('administrative_area_level_1');});}}locationData.name=res.data.result.name;locationData.location.latitude=res.data.result.geometry.location.lat;locationData.location.longitude=res.data.result.geometry.location.lng;locationData.address=res.data.result.formatted_address;locationData.phoneNumber=res.data.result.formatted_phone_number;locationData.types=res.data.result.types;locationData.utcOffset=res.data.result.utc_offset;locationData.website=res.data.result.website;if(!(countryCode.short_name&&area&&area.short_name)){_context7.next=22;break;}locationData.countryCode=countryCode.short_name;locationData.area=area.long_name;_context7.next=23;break;case 22:return _context7.abrupt(\"return\");case 23:firebase.firestore().collection(\"users\").doc(\"\".concat(rootStore.pageStore.userId)).set({businessInfo:locationData}).then(function(r){}).catch(function(e){});return _context7.abrupt(\"return\",locationData);case 27:_context7.prev=27;_context7.t0=_context7[\"catch\"](1);console.log('GMB error');case 30:case\"end\":return _context7.stop();}}},_callee7,null,[[1,27]]);}));return _getRelevantBusinessInfo.apply(this,arguments);}export function autoCompletePlacesAction(_x9,_x10){return _autoCompletePlacesAction.apply(this,arguments);}function _autoCompletePlacesAction(){_autoCompletePlacesAction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(data,key){var PROXY_URL,url,res;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:PROXY_URL='https://cryptic-badlands-53121.herokuapp.com/';console.log('?',PROXY_URL);url=\"https://maps.googleapis.com/maps/api/place/autocomplete/json?input=\".concat(encodeURIComponent(data),\"&key=\").concat(encodeURIComponent(key));_context8.next=5;return axios({method:'get',url:PROXY_URL+url,headers:{'X-Requested-With':'XMLHttpRequest'}});case 5:res=_context8.sent;return _context8.abrupt(\"return\",rootStore.pageStore.setAutoCompletePlaces(res.data));case 7:case\"end\":return _context8.stop();}}},_callee8);}));return _autoCompletePlacesAction.apply(this,arguments);}","map":{"version":3,"sources":["/Users/aider/WebstormProjects/Marketslick/Marketslick/src/stores/PageService.js"],"names":["axios","firebase","cookie","rootStore","require","uuidv4","v4","getTemplatesWithId","id","console","log","firestore","collection","get","then","data","pageStore","userId","dataToLoad","docs","find","doc","author","setActiveTemplate","catch","e","initializeAuthentication","initializeFirebase","res","auth","onAuthStateChanged","userAuth","uid","setUser","set","email","r","remove","Promise","resolve","currentUser","unsubscribe","user","signUpUsingEmail","fields","createUserWithEmailAndPassword","password","error","authResult","signUpUsingSocial","type","provider","GoogleAuthProvider","setCustomParameters","prompt","signInWithRedirect","signUpUsingFacebook","FacebookAuthProvider","auth_type","handleSignOut","noReload","signOut","setTimeout","window","location","reload","createWebsite","code","content","url","unescape","encodeURIComponent","JSON","stringify","body","btoa","createBranchURL","headers","process","env","REACT_APP_DEATHSTAR","REACT_APP_JEDI","REACT_APP_STORMTROOPER","getBranchHeadsURL","method","length","headSha","ref","object","sha","branchExists","reference","slice","message","branch","commitResponse","createBranchBody","createBranchRes","getRelevantBusinessInfo","placeInformation","key","PROXY_URL","REACT_APP_PROXY_URL","locationData","latitude","longitude","timeZoneId","address","name","area","countryCode","phoneNumber","types","utcOffset","website","rawOffset","dstOffset","businessClass","creatorRole","place_id","result","address_components","component","includes","short_name","geometry","lat","lng","formatted_address","formatted_phone_number","utc_offset","long_name","businessInfo","autoCompletePlacesAction","setAutoCompletePlaces"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport firebase from \"firebase/compat\";\nimport cookie from \"js-cookie\";\nimport {rootStore} from './Store';\nconst {\n    v4: uuidv4,\n} = require('uuid');\nexport async function getTemplatesWithId(id){\n    console.log('with id',id);\n    return firebase.firestore().collection(\"templates\").get().then((data)=>{\n        console.log('data',data,'id',rootStore.pageStore.userId);\n        if(data) {\n            const dataToLoad = data.docs.find((doc) => {return doc.data().author === rootStore.pageStore.userId});\n            if (dataToLoad) {\n                console.log(dataToLoad.data(), 'LOAD with ID', id);\n                rootStore.pageStore.setActiveTemplate(dataToLoad.data());\n                return dataToLoad.data();\n            }\n        }\n    }).catch((e)=>{console.log('e',e)})\n\n}\nexport function initializeAuthentication(){\n    initializeFirebase().then((res)=>{\n        console.log('FB, initialized.')\n        return firebase.auth().onAuthStateChanged(async (userAuth) => {\n            if(userAuth) {\n                console.log('on auth state:', userAuth,'...UID',userAuth.uid);\n                // todo abstract loading screen from auth initialization\n                rootStore.pageStore.setUser(userAuth);\n                if (cookie.get('signInType') === 'google') {\n                    return firebase.firestore().collection(\"users\").doc(`${userAuth.uid}`).set({email: userAuth.email})\n                        .then((r) => {\n                            cookie.remove('signInType');\n                            console.log(\"Google Document successfully written!\", r);\n                        }).catch((e) => {\n                            cookie.remove('userHasLoggedIn');\n                        });\n\n                }\n            }\n        });\n    });\n\n}\nexport function initializeFirebase(){\n    return new Promise((resolve) => {\n        if (firebase.auth().currentUser) {\n            resolve(true);\n        } else {\n            const unsubscribe = firebase.auth().onAuthStateChanged((user) => {\n                unsubscribe();\n                if (user) {\n                    resolve(true);\n                } else {\n                    resolve(false);\n                }\n            });\n        }\n    }).catch((e) => {\n        console.log('init error', e); // throw new error\n    });\n}\n\n\nexport async function signUpUsingEmail(fields) {\n    return firebase.auth().createUserWithEmailAndPassword(fields.email, fields.password).catch((error) => {\n       console.log('...',error);\n    })\n        .then((authResult) => {\n            // @ts-ignore\n            firebase.firestore().collection(\"users\").doc(`${uuidv4()}`).set({email:fields.email})\n                .then((r) => {\n                    console.log(\"Document successfully written!\",r);\n                }).catch((e) => {\n                cookie.remove('userHasLoggedIn');\n            });\n        });\n}\n\nexport async function signUpUsingSocial(type) {\n    cookie.set('signInType','google');\n    const provider = new firebase.auth.GoogleAuthProvider();\n    provider.setCustomParameters({ prompt: 'select_account' });\n    return firebase.auth().signInWithRedirect(provider);\n}\n\nexport async function signUpUsingFacebook(type) {\n        const provider = new firebase.auth.FacebookAuthProvider();\n        provider.setCustomParameters({ auth_type: 'https' });\n        return firebase.auth().signInWithRedirect(provider);\n    }\n\nexport async function handleSignOut(noReload) {\n    firebase.auth().signOut().then(() => {\n        cookie.remove('userHasLoggedIn');\n        if (noReload) {\n            return true;\n        }\n        setTimeout(() => {\n            window.location.reload();\n        }, 1000);\n    });\n}\n\n\nexport function createWebsite(code,content) {\n    let url = `https://api.github.com/repos/H0l0AI/Marketslick/contents/src/contents.json`;\n    console.log('gonna BTOA it',unescape(encodeURIComponent(JSON.stringify(content))));\n    const body = btoa(unescape(encodeURIComponent(JSON.stringify(content))));\n    const createBranchURL = 'https://api.github.com/repos/H0l0AI/Marketslick/git/refs';\n    const headers = {\n        'Authorization': `token ${process.env.REACT_APP_DEATHSTAR}${process.env.REACT_APP_JEDI}${process.env.REACT_APP_STORMTROOPER}`,\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Accept': 'application/vnd.github.v3+json'\n    };\n    const getBranchHeadsURL = 'https://api.github.com/repos/H0l0AI/Marketslick/git/refs/heads';\n    return axios({\n        method: 'get', url: getBranchHeadsURL,\n        headers: headers,\n    }).then((res) => {\n        {\n            console.log('GITHUB= res,', res.data, res.data[res.data.length - 1]);\n            const headSha = res.data.find((ref) => ref.ref === \"refs/heads/main\").object.sha;\n            const branchExists = res.data.find((reference)=>reference.ref.slice(11)===code);\n            if(branchExists) {\n                 console.log('THIS BRANCH EXISTS',branchExists,code)\n                url=url+`?ref=${code}`\n\n                return axios({\n                    method: 'get', url: url,\n                    headers: headers,\n                }).then((res) => {\n                    console.log('GITHUB RES GET:', res,code);\n                    const sha = res.data.sha;\n                    return axios({\n                        method: 'delete', data: {\n                            message: \"Automation delete\", content: body, sha: sha, branch: `${code}`\n                        },\n                        url: url,\n                        headers: headers,\n                    }).then((commitResponse) => {\n                        console.log('LETS FUCKING GO DELETED', commitResponse);\n                        return axios({\n                            method: 'put', data: {\n                                message: \"Automation sync\", content: body, sha: sha, branch: `${code}`\n                            },\n                            url: url,\n                            headers: headers,\n                        }).then((res)=>{console.log('ADDED THE NEW SHIT',res)}).catch((e)=>{console.log('put not work',e)})\n\n                    }).catch((e) => {\n                        console.log('axios GET ERROR 4', e);\n\n                    }).catch((e) => {\n                        console.log('axs get error 3', e);\n\n                    })\n                })\n            }\n            console.log('HEADSHA', headSha);\n            const createBranchBody = {\n                \"ref\": `refs/heads/${code}`,\n                \"sha\": headSha\n            };\n            return axios({\n                method: 'post', data: createBranchBody,\n                url: createBranchURL,\n                headers: headers,\n            }).then((createBranchRes) => {\n                console.log('putRes DID HE FIRE IT OFF?', createBranchRes, 'DO I NEED CREATESHA EARLIER');\n\n                return axios({\n                    method: 'get', url: url,\n                    headers: headers,\n                }).then((res) => {\n                    console.log('GITHUB RES GET:', res);\n                    const sha = res.data.sha;\n                    return axios({\n                        method: 'put', data: {\n                            message: \"Automation sync\", content: body, sha: sha, branch: `${code}`\n                        },\n                        url: url,\n                        headers: headers,\n                    }).then((commitResponse) => {\n                        console.log('LETS FUCKING GO', commitResponse);\n\n                    }).catch((e) => {\n                        console.log('axios GET ERROR 4', e);\n\n                    }).catch((e) => {\n                        console.log('axs get error 3', e);\n\n                    })\n                }).catch((e) => {\n                    console.log('axios GET ERROR 2', e);\n\n                }).catch((e) => {\n                    console.log('axs get error 1', e);\n\n                })\n            }).catch((e)=>{\n                console.log('couldnt create',e);\n\n            });\n        }\n    });\n};\nexport async function getRelevantBusinessInfo(placeInformation, key) {\n    const PROXY_URL = process.env.REACT_APP_PROXY_URL;\n    try {\n        const locationData = {\n            location: {latitude: '', longitude: ''},\n            timeZoneId: '',\n            address: '',\n            name: '',\n            area: 'Auckland',\n            countryCode: 'NZ',\n            phoneNumber: '',\n            types: [],\n            utcOffset: '',\n            website: '',\n            rawOffset: '',\n            dstOffset: '',\n            businessClass: 'management',\n            // creator role for practice\n            creatorRole: 'practice_admin',\n        };\n        // todo get geolocation ...address external\n        const url = `https://maps.googleapis.com/maps/api/place/details/json?place_id=${encodeURIComponent(placeInformation.place_id)}&key=${encodeURIComponent(key)}`;\n        const res = await axios({\n            method: 'get',\n            url: PROXY_URL + url,\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest',\n            }\n\n        });\n        const countryCode = res.data.result.address_components.find((component) => component.types.includes('country'));\n        let area;\n        if (countryCode.short_name === 'NZ' || countryCode.short_name !== 'AU') {\n            area = res.data.result.address_components.find((component) => component.types.includes('administrative_area_level_1'));\n        } else {\n            area = res.data.result.address_components.find((component) => component.types.includes('administrative_area_level_2'));\n            if (!area) {\n                area = res.data.result.address_components.find((component) => component.types.includes('administrative_area_level_1'))\n            }\n        }\n        locationData.name = res.data.result.name;\n        locationData.location.latitude = res.data.result.geometry.location.lat;\n        locationData.location.longitude = res.data.result.geometry.location.lng;\n        locationData.address = res.data.result.formatted_address;\n        locationData.phoneNumber = res.data.result.formatted_phone_number;\n        locationData.types = res.data.result.types;\n        locationData.utcOffset = res.data.result.utc_offset;\n        locationData.website = res.data.result.website;\n        if (countryCode.short_name && area && area.short_name) {\n            locationData.countryCode = countryCode.short_name;\n            locationData.area = area.long_name;\n        } else {\n            return;\n        }\n        firebase.firestore().collection(\"users\").doc(`${rootStore.pageStore.userId}`).set({businessInfo: locationData})\n            .then((r) => {\n\n            }).catch((e)=>{});\n        return locationData;\n        //create business in firebase here\n    }catch(e){\n        console.log('GMB error');\n    }\n}\n\nexport async function autoCompletePlacesAction(data,key){\n    const PROXY_URL = 'https://cryptic-badlands-53121.herokuapp.com/';\n    console.log('?', PROXY_URL);\n    const url = `https://maps.googleapis.com/maps/api/place/autocomplete/json?input=${encodeURIComponent(data)}&key=${encodeURIComponent(key)}`;\n    const res = await axios({\n        method: 'get',\n        url: PROXY_URL + url,\n        headers: {\n            'X-Requested-With': 'XMLHttpRequest',\n        }\n\n    });\n    return rootStore.pageStore.setAutoCompletePlaces(res.data);\n}\n\n\n"]},"metadata":{},"sourceType":"module"}